(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{356:function(t,o,e){"use strict";t.exports=e(357)},357:function(t,o,e){"use strict";var r=e(358);t.exports=function(t,o,e){e=e||{},9===o.nodeType&&(o=r.getWindow(o));var i=e.allowHorizontalScroll,n=e.onlyScrollIfNeeded,l=e.alignWithTop,f=e.alignWithLeft,d=e.offsetTop||0,p=e.offsetLeft||0,c=e.offsetBottom||0,u=e.offsetRight||0;i=void 0===i||i;var s=r.isWindow(o),a=r.offset(t),v=r.outerHeight(t),h=r.outerWidth(t),w=void 0,y=void 0,m=void 0,g=void 0,b=void 0,T=void 0,W=void 0,L=void 0,S=void 0,x=void 0;s?(W=o,x=r.height(W),S=r.width(W),L={left:r.scrollLeft(W),top:r.scrollTop(W)},b={left:a.left-L.left-p,top:a.top-L.top-d},T={left:a.left+h-(L.left+S)+u,top:a.top+v-(L.top+x)+c},g=L):(w=r.offset(o),y=o.clientHeight,m=o.clientWidth,g={left:o.scrollLeft,top:o.scrollTop},b={left:a.left-(w.left+(parseFloat(r.css(o,"borderLeftWidth"))||0))-p,top:a.top-(w.top+(parseFloat(r.css(o,"borderTopWidth"))||0))-d},T={left:a.left+h-(w.left+m+(parseFloat(r.css(o,"borderRightWidth"))||0))+u,top:a.top+v-(w.top+y+(parseFloat(r.css(o,"borderBottomWidth"))||0))+c}),b.top<0||T.top>0?!0===l?r.scrollTop(o,g.top+b.top):!1===l?r.scrollTop(o,g.top+T.top):b.top<0?r.scrollTop(o,g.top+b.top):r.scrollTop(o,g.top+T.top):n||((l=void 0===l||!!l)?r.scrollTop(o,g.top+b.top):r.scrollTop(o,g.top+T.top)),i&&(b.left<0||T.left>0?!0===f?r.scrollLeft(o,g.left+b.left):!1===f?r.scrollLeft(o,g.left+T.left):b.left<0?r.scrollLeft(o,g.left+b.left):r.scrollLeft(o,g.left+T.left):n||((f=void 0===f||!!f)?r.scrollLeft(o,g.left+b.left):r.scrollLeft(o,g.left+T.left)))}},358:function(t,o,e){"use strict";var r=Object.assign||function(t){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function n(t,o){var e=t["page"+(o?"Y":"X")+"Offset"],r="scroll"+(o?"Top":"Left");if("number"!=typeof e){var i=t.document;"number"!=typeof(e=i.documentElement[r])&&(e=i.body[r])}return e}function l(t){return n(t)}function f(t){return n(t,!0)}function d(t){var o=function(t){var o,e=void 0,r=void 0,i=t.ownerDocument,n=i.body,l=i&&i.documentElement;return e=(o=t.getBoundingClientRect()).left,r=o.top,{left:e-=l.clientLeft||n.clientLeft||0,top:r-=l.clientTop||n.clientTop||0}}(t),e=t.ownerDocument,r=e.defaultView||e.parentWindow;return o.left+=l(r),o.top+=f(r),o}var p=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),c=/^(top|right|bottom|left)$/,u="currentStyle",s="runtimeStyle",a="left",v="px";var h=void 0;function w(t,o){for(var e=0;e<t.length;e++)o(t[e])}function y(t){return"border-box"===h(t,"boxSizing")}"undefined"!=typeof window&&(h=window.getComputedStyle?function(t,o,e){var r="",i=t.ownerDocument,n=e||i.defaultView.getComputedStyle(t,null);return n&&(r=n.getPropertyValue(o)||n[o]),r}:function(t,o){var e=t[u]&&t[u][o];if(p.test(e)&&!c.test(o)){var r=t.style,i=r[a],n=t[s][a];t[s][a]=t[u][a],r[a]="fontSize"===o?"1em":e||0,e=r.pixelLeft+v,r[a]=i,t[s][a]=n}return""===e?"auto":e});var m=["margin","border","padding"],g=-1,b=2,T=1;function W(t,o,e){var r=0,i=void 0,n=void 0,l=void 0;for(n=0;n<o.length;n++)if(i=o[n])for(l=0;l<e.length;l++){var f=void 0;f="border"===i?i+e[l]+"Width":i+e[l],r+=parseFloat(h(t,f))||0}return r}function L(t){return null!=t&&t==t.window}var S={};function x(t,o,e){if(L(t))return"width"===o?S.viewportWidth(t):S.viewportHeight(t);if(9===t.nodeType)return"width"===o?S.docWidth(t):S.docHeight(t);var r="width"===o?["Left","Right"]:["Top","Bottom"],i="width"===o?t.offsetWidth:t.offsetHeight,n=(h(t),y(t)),l=0;(null==i||i<=0)&&(i=void 0,(null==(l=h(t,o))||Number(l)<0)&&(l=t.style[o]||0),l=parseFloat(l)||0),void 0===e&&(e=n?T:g);var f=void 0!==i||n,d=i||l;if(e===g)return f?d-W(t,["border","padding"],r):l;if(f){var p=e===b?-W(t,["border"],r):W(t,["margin"],r);return d+(e===T?0:p)}return l+W(t,m.slice(e),r)}w(["Width","Height"],function(t){S["doc"+t]=function(o){var e=o.document;return Math.max(e.documentElement["scroll"+t],e.body["scroll"+t],S["viewport"+t](e))},S["viewport"+t]=function(o){var e="client"+t,r=o.document,i=r.body,n=r.documentElement[e];return"CSS1Compat"===r.compatMode&&n||i&&i[e]||n}});var O={position:"absolute",visibility:"hidden",display:"block"};function H(t){var o=void 0,e=arguments;return 0!==t.offsetWidth?o=x.apply(void 0,e):function(t,o,e){var r={},i=t.style,n=void 0;for(n in o)o.hasOwnProperty(n)&&(r[n]=i[n],i[n]=o[n]);for(n in e.call(t),o)o.hasOwnProperty(n)&&(i[n]=r[n])}(t,O,function(){o=x.apply(void 0,e)}),o}function P(t,o,e){var r=e;if("object"!==(void 0===o?"undefined":i(o)))return void 0!==r?("number"==typeof r&&(r+="px"),void(t.style[o]=r)):h(t,o);for(var n in o)o.hasOwnProperty(n)&&P(t,n,o[n])}w(["width","height"],function(t){var o=t.charAt(0).toUpperCase()+t.slice(1);S["outer"+o]=function(o,e){return o&&H(o,t,e?0:T)};var e="width"===t?["Left","Right"]:["Top","Bottom"];S[t]=function(o,r){if(void 0===r)return o&&H(o,t,g);if(o){h(o);return y(o)&&(r+=W(o,["padding","border"],e)),P(o,t,r)}}}),t.exports=r({getWindow:function(t){var o=t.ownerDocument||t;return o.defaultView||o.parentWindow},offset:function(t,o){if(void 0===o)return d(t);!function(t,o){"static"===P(t,"position")&&(t.style.position="relative");var e=d(t),r={},i=void 0,n=void 0;for(n in o)o.hasOwnProperty(n)&&(i=parseFloat(P(t,n))||0,r[n]=i+o[n]-e[n]);P(t,r)}(t,o)},isWindow:L,each:w,css:P,clone:function(t){var o={};for(var e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);if(t.overflow)for(var e in t)t.hasOwnProperty(e)&&(o.overflow[e]=t.overflow[e]);return o},scrollLeft:function(t,o){if(L(t)){if(void 0===o)return l(t);window.scrollTo(o,f(t))}else{if(void 0===o)return t.scrollLeft;t.scrollLeft=o}},scrollTop:function(t,o){if(L(t)){if(void 0===o)return f(t);window.scrollTo(l(t),o)}else{if(void 0===o)return t.scrollTop;t.scrollTop=o}},viewportWidth:0,viewportHeight:0},S)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG9tLXNjcm9sbC1pbnRvLXZpZXcvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20tc2Nyb2xsLWludG8tdmlldy9saWIvZG9tLXNjcm9sbC1pbnRvLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1zY3JvbGwtaW50by12aWV3L2xpYi91dGlsLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwidXRpbCIsImVsZW0iLCJjb250YWluZXIiLCJjb25maWciLCJub2RlVHlwZSIsImdldFdpbmRvdyIsImFsbG93SG9yaXpvbnRhbFNjcm9sbCIsIm9ubHlTY3JvbGxJZk5lZWRlZCIsImFsaWduV2l0aFRvcCIsImFsaWduV2l0aExlZnQiLCJvZmZzZXRUb3AiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0Qm90dG9tIiwib2Zmc2V0UmlnaHQiLCJ1bmRlZmluZWQiLCJpc1dpbiIsImlzV2luZG93IiwiZWxlbU9mZnNldCIsIm9mZnNldCIsImVoIiwib3V0ZXJIZWlnaHQiLCJldyIsIm91dGVyV2lkdGgiLCJjb250YWluZXJPZmZzZXQiLCJjaCIsImN3IiwiY29udGFpbmVyU2Nyb2xsIiwiZGlmZlRvcCIsImRpZmZCb3R0b20iLCJ3aW4iLCJ3aW5TY3JvbGwiLCJ3dyIsIndoIiwiaGVpZ2h0Iiwid2lkdGgiLCJsZWZ0Iiwic2Nyb2xsTGVmdCIsInRvcCIsInNjcm9sbFRvcCIsImNsaWVudEhlaWdodCIsImNsaWVudFdpZHRoIiwicGFyc2VGbG9hdCIsImNzcyIsIl9leHRlbmRzIiwiT2JqZWN0IiwiYXNzaWduIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl90eXBlb2YiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwiZ2V0U2Nyb2xsIiwidyIsInJldCIsIm1ldGhvZCIsImQiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJnZXRTY3JvbGxMZWZ0IiwiZ2V0U2Nyb2xsVG9wIiwiZ2V0T2Zmc2V0IiwiZWwiLCJwb3MiLCJib3giLCJ4IiwieSIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkb2NFbGVtIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImdldENsaWVudFBvc2l0aW9uIiwiZGVmYXVsdFZpZXciLCJwYXJlbnRXaW5kb3ciLCJfUkVfTlVNX05PX1BYIiwiUmVnRXhwIiwiUkVfUE9TIiwiQ1VSUkVOVF9TVFlMRSIsIlJVTlRJTUVfU1RZTEUiLCJMRUZUIiwiUFgiLCJnZXRDb21wdXRlZFN0eWxlWCIsImVhY2giLCJhcnIiLCJmbiIsImlzQm9yZGVyQm94Rm4iLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwibmFtZSIsImNvbXB1dGVkU3R5bGVfIiwidmFsIiwiY29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ0ZXN0Iiwic3R5bGUiLCJyc0xlZnQiLCJwaXhlbExlZnQiLCJCT1hfTU9ERUxTIiwiQ09OVEVOVF9JTkRFWCIsIlBBRERJTkdfSU5ERVgiLCJCT1JERVJfSU5ERVgiLCJnZXRQQk1XaWR0aCIsInByb3BzIiwid2hpY2giLCJ2YWx1ZSIsInByb3AiLCJqIiwiY3NzUHJvcCIsImRvbVV0aWxzIiwiZ2V0V0giLCJleHRyYSIsInZpZXdwb3J0V2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsImRvY1dpZHRoIiwiZG9jSGVpZ2h0IiwiYm9yZGVyQm94VmFsdWUiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsImlzQm9yZGVyQm94IiwiY3NzQm94VmFsdWUiLCJOdW1iZXIiLCJib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3giLCJwYWRkaW5nIiwic2xpY2UiLCJyZWZXaW4iLCJNYXRoIiwibWF4IiwiZG9jdW1lbnRFbGVtZW50UHJvcCIsImNvbXBhdE1vZGUiLCJjc3NTaG93IiwicG9zaXRpb24iLCJ2aXNpYmlsaXR5IiwiZGlzcGxheSIsImdldFdISWdub3JlRGlzcGxheSIsImFyZ3MiLCJhcHBseSIsIm9wdGlvbnMiLCJjYWxsYmFjayIsIm9sZCIsInN3YXAiLCJ2IiwiZmlyc3QiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImluY2x1ZGVNYXJnaW4iLCJub2RlIiwiY3VycmVudCIsInNldE9mZnNldCIsImNsb25lIiwib3ZlcmZsb3ciLCJzY3JvbGxUbyJdLCJtYXBwaW5ncyI6IjJGQUVBQSxFQUFBQyxRQUFpQkMsRUFBUSx1Q0NBekIsSUFBQUMsRUFBV0QsRUFBUSxLQThIbkJGLEVBQUFDLFFBNUhBLFNBQUFHLEVBQUFDLEVBQUFDLEdBQ0FBLEtBQUEsR0FFQSxJQUFBRCxFQUFBRSxXQUNBRixFQUFBRixFQUFBSyxVQUFBSCxJQUdBLElBQUFJLEVBQUFILEVBQUFHLHNCQUNBQyxFQUFBSixFQUFBSSxtQkFDQUMsRUFBQUwsRUFBQUssYUFDQUMsRUFBQU4sRUFBQU0sY0FDQUMsRUFBQVAsRUFBQU8sV0FBQSxFQUNBQyxFQUFBUixFQUFBUSxZQUFBLEVBQ0FDLEVBQUFULEVBQUFTLGNBQUEsRUFDQUMsRUFBQVYsRUFBQVUsYUFBQSxFQUVBUCxPQUFBUSxJQUFBUixLQUVBLElBQUFTLEVBQUFmLEVBQUFnQixTQUFBZCxHQUNBZSxFQUFBakIsRUFBQWtCLE9BQUFqQixHQUNBa0IsRUFBQW5CLEVBQUFvQixZQUFBbkIsR0FDQW9CLEVBQUFyQixFQUFBc0IsV0FBQXJCLEdBQ0FzQixPQUFBVCxFQUNBVSxPQUFBVixFQUNBVyxPQUFBWCxFQUNBWSxPQUFBWixFQUNBYSxPQUFBYixFQUNBYyxPQUFBZCxFQUNBZSxPQUFBZixFQUNBZ0IsT0FBQWhCLEVBQ0FpQixPQUFBakIsRUFDQWtCLE9BQUFsQixFQUVBQyxHQUNBYyxFQUFBM0IsRUFDQThCLEVBQUFoQyxFQUFBaUMsT0FBQUosR0FDQUUsRUFBQS9C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SUFBQXFDLEtBQUFqQyxFQUNBQSxFQUFBbUMsZUFBQUYsS0FDQTBHLEVBQUFwSCxXQUFBQyxFQUFBekMsRUFBQWtELEtBQUEsRUFDQVcsRUFBQVgsR0FBQTBHLEVBQUEzSSxFQUFBaUMsR0FBQWtHLEVBQUFsRyxJQUdBVCxFQUFBekMsRUFBQTZELEdBVUFnRyxDQUFBdkYsRUFBQTRDLElBTUFuRyxXQUNBNkUsT0FDQW5ELE1BQ0FxSCxNQUFBLFNBQUFyRyxHQUNBLElBQUFJLEVBQUEsR0FDQSxRQUFBZixLQUFBVyxFQUNBQSxFQUFBTCxlQUFBTixLQUNBZSxFQUFBZixHQUFBVyxFQUFBWCxJQUlBLEdBREFXLEVBQUFzRyxTQUVBLFFBQUFqSCxLQUFBVyxFQUNBQSxFQUFBTCxlQUFBTixLQUNBZSxFQUFBa0csU0FBQWpILEdBQUFXLEVBQUFzRyxTQUFBakgsSUFJQSxPQUFBZSxHQUVBMUIsV0FBQSxTQUFBeUIsRUFBQTBGLEdBQ0EsR0FBQXZJLEVBQUE2QyxHQUFBLENBQ0EsUUFBQS9DLElBQUF5SSxFQUNBLE9BQUFuRixFQUFBUCxHQUVBb0MsT0FBQWdFLFNBQUFWLEVBQUFsRixFQUFBUixRQUNLLENBQ0wsUUFBQS9DLElBQUF5SSxFQUNBLE9BQUExRixFQUFBekIsV0FFQXlCLEVBQUF6QixXQUFBbUgsSUFHQWpILFVBQUEsU0FBQXVCLEVBQUEwRixHQUNBLEdBQUF2SSxFQUFBNkMsR0FBQSxDQUNBLFFBQUEvQyxJQUFBeUksRUFDQSxPQUFBbEYsRUFBQVIsR0FFQW9DLE9BQUFnRSxTQUFBN0YsRUFBQVAsR0FBQTBGLE9BQ0ssQ0FDTCxRQUFBekksSUFBQXlJLEVBQ0EsT0FBQTFGLEVBQUF2QixVQUVBdUIsRUFBQXZCLFVBQUFpSCxJQUlBN0IsY0FBQSxFQUNBQyxlQUFBLEdBQ0NKIiwiZmlsZSI6Im5wbS5kb20tc2Nyb2xsLWludG8tdmlldy5jaHVua2hhc2guanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kb20tc2Nyb2xsLWludG8tdmlldycpOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoZWxlbSwgY29udGFpbmVyLCBjb25maWcpIHtcbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAvLyBkb2N1bWVudCDlvZLkuIDljJbliLAgd2luZG93XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IDkpIHtcbiAgICBjb250YWluZXIgPSB1dGlsLmdldFdpbmRvdyhjb250YWluZXIpO1xuICB9XG5cbiAgdmFyIGFsbG93SG9yaXpvbnRhbFNjcm9sbCA9IGNvbmZpZy5hbGxvd0hvcml6b250YWxTY3JvbGw7XG4gIHZhciBvbmx5U2Nyb2xsSWZOZWVkZWQgPSBjb25maWcub25seVNjcm9sbElmTmVlZGVkO1xuICB2YXIgYWxpZ25XaXRoVG9wID0gY29uZmlnLmFsaWduV2l0aFRvcDtcbiAgdmFyIGFsaWduV2l0aExlZnQgPSBjb25maWcuYWxpZ25XaXRoTGVmdDtcbiAgdmFyIG9mZnNldFRvcCA9IGNvbmZpZy5vZmZzZXRUb3AgfHwgMDtcbiAgdmFyIG9mZnNldExlZnQgPSBjb25maWcub2Zmc2V0TGVmdCB8fCAwO1xuICB2YXIgb2Zmc2V0Qm90dG9tID0gY29uZmlnLm9mZnNldEJvdHRvbSB8fCAwO1xuICB2YXIgb2Zmc2V0UmlnaHQgPSBjb25maWcub2Zmc2V0UmlnaHQgfHwgMDtcblxuICBhbGxvd0hvcml6b250YWxTY3JvbGwgPSBhbGxvd0hvcml6b250YWxTY3JvbGwgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhbGxvd0hvcml6b250YWxTY3JvbGw7XG5cbiAgdmFyIGlzV2luID0gdXRpbC5pc1dpbmRvdyhjb250YWluZXIpO1xuICB2YXIgZWxlbU9mZnNldCA9IHV0aWwub2Zmc2V0KGVsZW0pO1xuICB2YXIgZWggPSB1dGlsLm91dGVySGVpZ2h0KGVsZW0pO1xuICB2YXIgZXcgPSB1dGlsLm91dGVyV2lkdGgoZWxlbSk7XG4gIHZhciBjb250YWluZXJPZmZzZXQgPSB1bmRlZmluZWQ7XG4gIHZhciBjaCA9IHVuZGVmaW5lZDtcbiAgdmFyIGN3ID0gdW5kZWZpbmVkO1xuICB2YXIgY29udGFpbmVyU2Nyb2xsID0gdW5kZWZpbmVkO1xuICB2YXIgZGlmZlRvcCA9IHVuZGVmaW5lZDtcbiAgdmFyIGRpZmZCb3R0b20gPSB1bmRlZmluZWQ7XG4gIHZhciB3aW4gPSB1bmRlZmluZWQ7XG4gIHZhciB3aW5TY3JvbGwgPSB1bmRlZmluZWQ7XG4gIHZhciB3dyA9IHVuZGVmaW5lZDtcbiAgdmFyIHdoID0gdW5kZWZpbmVkO1xuXG4gIGlmIChpc1dpbikge1xuICAgIHdpbiA9IGNvbnRhaW5lcjtcbiAgICB3aCA9IHV0aWwuaGVpZ2h0KHdpbik7XG4gICAgd3cgPSB1dGlsLndpZHRoKHdpbik7XG4gICAgd2luU2Nyb2xsID0ge1xuICAgICAgbGVmdDogdXRpbC5zY3JvbGxMZWZ0KHdpbiksXG4gICAgICB0b3A6IHV0aWwuc2Nyb2xsVG9wKHdpbilcbiAgICB9O1xuICAgIC8vIGVsZW0g55u45a+5IGNvbnRhaW5lciDlj6/op4bop4bnqpfnmoTot53nprtcbiAgICBkaWZmVG9wID0ge1xuICAgICAgbGVmdDogZWxlbU9mZnNldC5sZWZ0IC0gd2luU2Nyb2xsLmxlZnQgLSBvZmZzZXRMZWZ0LFxuICAgICAgdG9wOiBlbGVtT2Zmc2V0LnRvcCAtIHdpblNjcm9sbC50b3AgLSBvZmZzZXRUb3BcbiAgICB9O1xuICAgIGRpZmZCb3R0b20gPSB7XG4gICAgICBsZWZ0OiBlbGVtT2Zmc2V0LmxlZnQgKyBldyAtICh3aW5TY3JvbGwubGVmdCArIHd3KSArIG9mZnNldFJpZ2h0LFxuICAgICAgdG9wOiBlbGVtT2Zmc2V0LnRvcCArIGVoIC0gKHdpblNjcm9sbC50b3AgKyB3aCkgKyBvZmZzZXRCb3R0b21cbiAgICB9O1xuICAgIGNvbnRhaW5lclNjcm9sbCA9IHdpblNjcm9sbDtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXJPZmZzZXQgPSB1dGlsLm9mZnNldChjb250YWluZXIpO1xuICAgIGNoID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICBjdyA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICBjb250YWluZXJTY3JvbGwgPSB7XG4gICAgICBsZWZ0OiBjb250YWluZXIuc2Nyb2xsTGVmdCxcbiAgICAgIHRvcDogY29udGFpbmVyLnNjcm9sbFRvcFxuICAgIH07XG4gICAgLy8gZWxlbSDnm7jlr7kgY29udGFpbmVyIOWPr+inhuinhueql+eahOi3neemu1xuICAgIC8vIOazqOaEj+i+ueahhiwgb2Zmc2V0IOaYr+i+ueahhuWIsOagueiKgueCuVxuICAgIGRpZmZUb3AgPSB7XG4gICAgICBsZWZ0OiBlbGVtT2Zmc2V0LmxlZnQgLSAoY29udGFpbmVyT2Zmc2V0LmxlZnQgKyAocGFyc2VGbG9hdCh1dGlsLmNzcyhjb250YWluZXIsICdib3JkZXJMZWZ0V2lkdGgnKSkgfHwgMCkpIC0gb2Zmc2V0TGVmdCxcbiAgICAgIHRvcDogZWxlbU9mZnNldC50b3AgLSAoY29udGFpbmVyT2Zmc2V0LnRvcCArIChwYXJzZUZsb2F0KHV0aWwuY3NzKGNvbnRhaW5lciwgJ2JvcmRlclRvcFdpZHRoJykpIHx8IDApKSAtIG9mZnNldFRvcFxuICAgIH07XG4gICAgZGlmZkJvdHRvbSA9IHtcbiAgICAgIGxlZnQ6IGVsZW1PZmZzZXQubGVmdCArIGV3IC0gKGNvbnRhaW5lck9mZnNldC5sZWZ0ICsgY3cgKyAocGFyc2VGbG9hdCh1dGlsLmNzcyhjb250YWluZXIsICdib3JkZXJSaWdodFdpZHRoJykpIHx8IDApKSArIG9mZnNldFJpZ2h0LFxuICAgICAgdG9wOiBlbGVtT2Zmc2V0LnRvcCArIGVoIC0gKGNvbnRhaW5lck9mZnNldC50b3AgKyBjaCArIChwYXJzZUZsb2F0KHV0aWwuY3NzKGNvbnRhaW5lciwgJ2JvcmRlckJvdHRvbVdpZHRoJykpIHx8IDApKSArIG9mZnNldEJvdHRvbVxuICAgIH07XG4gIH1cblxuICBpZiAoZGlmZlRvcC50b3AgPCAwIHx8IGRpZmZCb3R0b20udG9wID4gMCkge1xuICAgIC8vIOW8uuWItuWQkeS4ilxuICAgIGlmIChhbGlnbldpdGhUb3AgPT09IHRydWUpIHtcbiAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZUb3AudG9wKTtcbiAgICB9IGVsc2UgaWYgKGFsaWduV2l0aFRvcCA9PT0gZmFsc2UpIHtcbiAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZCb3R0b20udG9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6Ieq5Yqo6LCD5pW0XG4gICAgICBpZiAoZGlmZlRvcC50b3AgPCAwKSB7XG4gICAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZUb3AudG9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZCb3R0b20udG9wKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFvbmx5U2Nyb2xsSWZOZWVkZWQpIHtcbiAgICAgIGFsaWduV2l0aFRvcCA9IGFsaWduV2l0aFRvcCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhYWxpZ25XaXRoVG9wO1xuICAgICAgaWYgKGFsaWduV2l0aFRvcCkge1xuICAgICAgICB1dGlsLnNjcm9sbFRvcChjb250YWluZXIsIGNvbnRhaW5lclNjcm9sbC50b3AgKyBkaWZmVG9wLnRvcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1dGlsLnNjcm9sbFRvcChjb250YWluZXIsIGNvbnRhaW5lclNjcm9sbC50b3AgKyBkaWZmQm90dG9tLnRvcCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGFsbG93SG9yaXpvbnRhbFNjcm9sbCkge1xuICAgIGlmIChkaWZmVG9wLmxlZnQgPCAwIHx8IGRpZmZCb3R0b20ubGVmdCA+IDApIHtcbiAgICAgIC8vIOW8uuWItuWQkeS4ilxuICAgICAgaWYgKGFsaWduV2l0aExlZnQgPT09IHRydWUpIHtcbiAgICAgICAgdXRpbC5zY3JvbGxMZWZ0KGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLmxlZnQgKyBkaWZmVG9wLmxlZnQpO1xuICAgICAgfSBlbHNlIGlmIChhbGlnbldpdGhMZWZ0ID09PSBmYWxzZSkge1xuICAgICAgICB1dGlsLnNjcm9sbExlZnQoY29udGFpbmVyLCBjb250YWluZXJTY3JvbGwubGVmdCArIGRpZmZCb3R0b20ubGVmdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDoh6rliqjosIPmlbRcbiAgICAgICAgaWYgKGRpZmZUb3AubGVmdCA8IDApIHtcbiAgICAgICAgICB1dGlsLnNjcm9sbExlZnQoY29udGFpbmVyLCBjb250YWluZXJTY3JvbGwubGVmdCArIGRpZmZUb3AubGVmdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXRpbC5zY3JvbGxMZWZ0KGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLmxlZnQgKyBkaWZmQm90dG9tLmxlZnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghb25seVNjcm9sbElmTmVlZGVkKSB7XG4gICAgICAgIGFsaWduV2l0aExlZnQgPSBhbGlnbldpdGhMZWZ0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFhbGlnbldpdGhMZWZ0O1xuICAgICAgICBpZiAoYWxpZ25XaXRoTGVmdCkge1xuICAgICAgICAgIHV0aWwuc2Nyb2xsTGVmdChjb250YWluZXIsIGNvbnRhaW5lclNjcm9sbC5sZWZ0ICsgZGlmZlRvcC5sZWZ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1dGlsLnNjcm9sbExlZnQoY29udGFpbmVyLCBjb250YWluZXJTY3JvbGwubGVmdCArIGRpZmZCb3R0b20ubGVmdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzY3JvbGxJbnRvVmlldzsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgUkVfTlVNID0gL1tcXC0rXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVtcXC0rXT9cXGQrfCkvLnNvdXJjZTtcblxuZnVuY3Rpb24gZ2V0Q2xpZW50UG9zaXRpb24oZWxlbSkge1xuICB2YXIgYm94ID0gdW5kZWZpbmVkO1xuICB2YXIgeCA9IHVuZGVmaW5lZDtcbiAgdmFyIHkgPSB1bmRlZmluZWQ7XG4gIHZhciBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG4gIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gIHZhciBkb2NFbGVtID0gZG9jICYmIGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIC8vIOagueaNriBHQlMg5pyA5paw5pWw5o2u77yMQS1HcmFkZSBCcm93c2VycyDpg73lt7LmlK/mjIEgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IOaWueazle+8jOS4jeeUqOWGjeiAg+iZkeS8oOe7n+eahOWunueOsOaWueW8j1xuICBib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIC8vIOazqO+8mmpRdWVyeSDov5jogIPomZHlh4/ljrsgZG9jRWxlbS5jbGllbnRMZWZ0L2NsaWVudFRvcFxuICAvLyDkvYbmtYvor5Xlj5HnjrDvvIzov5nmoLflj43ogIzkvJrlr7zoh7TlvZMgaHRtbCDlkowgYm9keSDmnInovrnot50v6L655qGG5qC35byP5pe277yM6I635Y+W55qE5YC85LiN5q2j56GuXG4gIC8vIOatpOWklu+8jGllNiDkvJrlv73nlaUgaHRtbCDnmoQgbWFyZ2luIOWAvO+8jOW5uOi/kOWcsOaYr+ayoeacieiwgeS8muWOu+iuvue9riBodG1sIOeahCBtYXJnaW5cblxuICB4ID0gYm94LmxlZnQ7XG4gIHkgPSBib3gudG9wO1xuXG4gIC8vIEluIElFLCBtb3N0IG9mIHRoZSB0aW1lLCAyIGV4dHJhIHBpeGVscyBhcmUgYWRkZWQgdG8gdGhlIHRvcCBhbmQgbGVmdFxuICAvLyBkdWUgdG8gdGhlIGltcGxpY2l0IDItcGl4ZWwgaW5zZXQgYm9yZGVyLiAgSW4gSUU2LzcgcXVpcmtzIG1vZGUgYW5kXG4gIC8vIElFNiBzdGFuZGFyZHMgbW9kZSwgdGhpcyBib3JkZXIgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyB0aGVcbiAgLy8gZG9jdW1lbnQgZWxlbWVudCdzIGJvcmRlciB0byB6ZXJvIC0tIHRodXMsIHdlIGNhbm5vdCByZWx5IG9uIHRoZVxuICAvLyBvZmZzZXQgYWx3YXlzIGJlaW5nIDIgcGl4ZWxzLlxuXG4gIC8vIEluIHF1aXJrcyBtb2RlLCB0aGUgb2Zmc2V0IGNhbiBiZSBkZXRlcm1pbmVkIGJ5IHF1ZXJ5aW5nIHRoZSBib2R5J3NcbiAgLy8gY2xpZW50TGVmdC9jbGllbnRUb3AsIGJ1dCBpbiBzdGFuZGFyZHMgbW9kZSwgaXQgaXMgZm91bmQgYnkgcXVlcnlpbmdcbiAgLy8gdGhlIGRvY3VtZW50IGVsZW1lbnQncyBjbGllbnRMZWZ0L2NsaWVudFRvcC4gIFNpbmNlIHdlIGFscmVhZHkgY2FsbGVkXG4gIC8vIGdldENsaWVudEJvdW5kaW5nUmVjdCB3ZSBoYXZlIGFscmVhZHkgZm9yY2VkIGEgcmVmbG93LCBzbyBpdCBpcyBub3RcbiAgLy8gdG9vIGV4cGVuc2l2ZSBqdXN0IHRvIHF1ZXJ5IHRoZW0gYWxsLlxuXG4gIC8vIGllIOS4i+W6lOivpeWHj+WOu+eql+WPo+eahOi+ueahhuWQp++8jOavleern+m7mOiupCBhYnNvbHV0ZSDpg73mmK/nm7jlr7nnqpflj6PlrprkvY3nmoRcbiAgLy8g56qX5Y+j6L655qGG5qCH5YeG5piv6K6+IGRvY3VtZW50RWxlbWVudCAscXVpcmtzIOaXtuiuvue9riBib2R5XG4gIC8vIOacgOWlveemgeatouWcqCBib2R5IOWSjCBodG1sIOS4iui+ueahhiDvvIzkvYYgaWUgPCA5IGh0bWwg6buY6K6k5pyJIDJweCDvvIzlh4/ljrtcbiAgLy8g5L2G5piv6Z2eIGllIOS4jeWPr+iDveiuvue9rueql+WPo+i+ueahhu+8jGJvZHkgaHRtbCDkuZ/kuI3mmK/nqpflj6MgLGllIOWPr+S7pemAmui/hyBodG1sLGJvZHkg6K6+572uXG4gIC8vIOagh+WHhiBpZSDkuIsgZG9jRWxlbS5jbGllbnRUb3Ag5bCx5pivIGJvcmRlci10b3BcbiAgLy8gaWU3IGh0bWwg5Y2z56qX5Y+j6L655qGG5pS55Y+Y5LiN5LqG44CC5rC46L+c5Li6IDJcbiAgLy8g5L2G5qCH5YeGIGZpcmVmb3gvY2hyb21lL2llOSDkuIsgZG9jRWxlbS5jbGllbnRUb3Ag5piv56qX5Y+j6L655qGG77yM5Y2z5L2/6K6+5LqGIGJvcmRlci10b3Ag5Lmf5Li6IDBcblxuICB4IC09IGRvY0VsZW0uY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcbiAgeSAtPSBkb2NFbGVtLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogeCxcbiAgICB0b3A6IHlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsKHcsIHRvcCkge1xuICB2YXIgcmV0ID0gd1sncGFnZScgKyAodG9wID8gJ1knIDogJ1gnKSArICdPZmZzZXQnXTtcbiAgdmFyIG1ldGhvZCA9ICdzY3JvbGwnICsgKHRvcCA/ICdUb3AnIDogJ0xlZnQnKTtcbiAgaWYgKHR5cGVvZiByZXQgIT09ICdudW1iZXInKSB7XG4gICAgdmFyIGQgPSB3LmRvY3VtZW50O1xuICAgIC8vIGllNiw3LDggc3RhbmRhcmQgbW9kZVxuICAgIHJldCA9IGQuZG9jdW1lbnRFbGVtZW50W21ldGhvZF07XG4gICAgaWYgKHR5cGVvZiByZXQgIT09ICdudW1iZXInKSB7XG4gICAgICAvLyBxdWlya3MgbW9kZVxuICAgICAgcmV0ID0gZC5ib2R5W21ldGhvZF07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbExlZnQodykge1xuICByZXR1cm4gZ2V0U2Nyb2xsKHcpO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxUb3Aodykge1xuICByZXR1cm4gZ2V0U2Nyb2xsKHcsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXQoZWwpIHtcbiAgdmFyIHBvcyA9IGdldENsaWVudFBvc2l0aW9uKGVsKTtcbiAgdmFyIGRvYyA9IGVsLm93bmVyRG9jdW1lbnQ7XG4gIHZhciB3ID0gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gIHBvcy5sZWZ0ICs9IGdldFNjcm9sbExlZnQodyk7XG4gIHBvcy50b3AgKz0gZ2V0U2Nyb2xsVG9wKHcpO1xuICByZXR1cm4gcG9zO1xufVxuZnVuY3Rpb24gX2dldENvbXB1dGVkU3R5bGUoZWxlbSwgbmFtZSwgY29tcHV0ZWRTdHlsZV8pIHtcbiAgdmFyIHZhbCA9ICcnO1xuICB2YXIgZCA9IGVsZW0ub3duZXJEb2N1bWVudDtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBjb21wdXRlZFN0eWxlXyB8fCBkLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgbnVsbCk7XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tpc3N5dGVhbS9raXNzeS9pc3N1ZXMvNjFcbiAgaWYgKGNvbXB1dGVkU3R5bGUpIHtcbiAgICB2YWwgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgY29tcHV0ZWRTdHlsZVtuYW1lXTtcbiAgfVxuXG4gIHJldHVybiB2YWw7XG59XG5cbnZhciBfUkVfTlVNX05PX1BYID0gbmV3IFJlZ0V4cCgnXignICsgUkVfTlVNICsgJykoPyFweClbYS16JV0rJCcsICdpJyk7XG52YXIgUkVfUE9TID0gL14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvO1xudmFyIENVUlJFTlRfU1RZTEUgPSAnY3VycmVudFN0eWxlJztcbnZhciBSVU5USU1FX1NUWUxFID0gJ3J1bnRpbWVTdHlsZSc7XG52YXIgTEVGVCA9ICdsZWZ0JztcbnZhciBQWCA9ICdweCc7XG5cbmZ1bmN0aW9uIF9nZXRDb21wdXRlZFN0eWxlSUUoZWxlbSwgbmFtZSkge1xuICAvLyBjdXJyZW50U3R5bGUgbWF5YmUgbnVsbFxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzUyMzEuYXNweFxuICB2YXIgcmV0ID0gZWxlbVtDVVJSRU5UX1NUWUxFXSAmJiBlbGVtW0NVUlJFTlRfU1RZTEVdW25hbWVdO1xuXG4gIC8vIOW9kyB3aWR0aC9oZWlnaHQg6K6+572u5Li655m+5YiG5q+U5pe277yM6YCa6L+HIHBpeGVsTGVmdCDmlrnlvI/ovazmjaLnmoQgd2lkdGgvaGVpZ2h0IOWAvFxuICAvLyDkuIDlvIDlp4vlsLHlpITnkIbkuoYhIENVU1RPTV9TVFlMRS5oZWlnaHQsQ1VTVE9NX1NUWUxFLndpZHRoICxjc3NIb29rIOino+WGs0AyMDExLTA4LTE5XG4gIC8vIOWcqCBpZSDkuIvkuI3lr7nvvIzpnIDopoHnm7TmjqXnlKggb2Zmc2V0IOaWueW8j1xuICAvLyBib3JkZXJXaWR0aCDnrYnlgLzkuZ/mnInpl67popjvvIzkvYbogIPomZHliLAgYm9yZGVyV2lkdGgg6K6+5Li655m+5YiG5q+U55qE5qaC546H5b6I5bCP77yM6L+Z6YeM5bCx5LiN6ICD6JmR5LqGXG5cbiAgLy8gRnJvbSB0aGUgYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1xuICAvLyBodHRwOi8vZXJpay5lYWUubmV0L2FyY2hpdmVzLzIwMDcvMDcvMjcvMTguNTQuMTUvI2NvbW1lbnQtMTAyMjkxXG4gIC8vIElmIHdlJ3JlIG5vdCBkZWFsaW5nIHdpdGggYSByZWd1bGFyIHBpeGVsIG51bWJlclxuICAvLyBidXQgYSBudW1iZXIgdGhhdCBoYXMgYSB3ZWlyZCBlbmRpbmcsIHdlIG5lZWQgdG8gY29udmVydCBpdCB0byBwaXhlbHNcbiAgLy8gZXhjbHVkZSBsZWZ0IHJpZ2h0IGZvciByZWxhdGl2aXR5XG4gIGlmIChfUkVfTlVNX05PX1BYLnRlc3QocmV0KSAmJiAhUkVfUE9TLnRlc3QobmFtZSkpIHtcbiAgICAvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgdmFyIHN0eWxlID0gZWxlbS5zdHlsZTtcbiAgICB2YXIgbGVmdCA9IHN0eWxlW0xFRlRdO1xuICAgIHZhciByc0xlZnQgPSBlbGVtW1JVTlRJTUVfU1RZTEVdW0xFRlRdO1xuXG4gICAgLy8gcHJldmVudCBmbGFzaGluZyBvZiBjb250ZW50XG4gICAgZWxlbVtSVU5USU1FX1NUWUxFXVtMRUZUXSA9IGVsZW1bQ1VSUkVOVF9TVFlMRV1bTEVGVF07XG5cbiAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG4gICAgc3R5bGVbTEVGVF0gPSBuYW1lID09PSAnZm9udFNpemUnID8gJzFlbScgOiByZXQgfHwgMDtcbiAgICByZXQgPSBzdHlsZS5waXhlbExlZnQgKyBQWDtcblxuICAgIC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcbiAgICBzdHlsZVtMRUZUXSA9IGxlZnQ7XG5cbiAgICBlbGVtW1JVTlRJTUVfU1RZTEVdW0xFRlRdID0gcnNMZWZ0O1xuICB9XG4gIHJldHVybiByZXQgPT09ICcnID8gJ2F1dG8nIDogcmV0O1xufVxuXG52YXIgZ2V0Q29tcHV0ZWRTdHlsZVggPSB1bmRlZmluZWQ7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZ2V0Q29tcHV0ZWRTdHlsZVggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IF9nZXRDb21wdXRlZFN0eWxlIDogX2dldENvbXB1dGVkU3R5bGVJRTtcbn1cblxuZnVuY3Rpb24gZWFjaChhcnIsIGZuKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgZm4oYXJyW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JvcmRlckJveEZuKGVsZW0pIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGVYKGVsZW0sICdib3hTaXppbmcnKSA9PT0gJ2JvcmRlci1ib3gnO1xufVxuXG52YXIgQk9YX01PREVMUyA9IFsnbWFyZ2luJywgJ2JvcmRlcicsICdwYWRkaW5nJ107XG52YXIgQ09OVEVOVF9JTkRFWCA9IC0xO1xudmFyIFBBRERJTkdfSU5ERVggPSAyO1xudmFyIEJPUkRFUl9JTkRFWCA9IDE7XG52YXIgTUFSR0lOX0lOREVYID0gMDtcblxuZnVuY3Rpb24gc3dhcChlbGVtLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICB2YXIgb2xkID0ge307XG4gIHZhciBzdHlsZSA9IGVsZW0uc3R5bGU7XG4gIHZhciBuYW1lID0gdW5kZWZpbmVkO1xuXG4gIC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBvbGRbbmFtZV0gPSBzdHlsZVtuYW1lXTtcbiAgICAgIHN0eWxlW25hbWVdID0gb3B0aW9uc1tuYW1lXTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjay5jYWxsKGVsZW0pO1xuXG4gIC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBzdHlsZVtuYW1lXSA9IG9sZFtuYW1lXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UEJNV2lkdGgoZWxlbSwgcHJvcHMsIHdoaWNoKSB7XG4gIHZhciB2YWx1ZSA9IDA7XG4gIHZhciBwcm9wID0gdW5kZWZpbmVkO1xuICB2YXIgaiA9IHVuZGVmaW5lZDtcbiAgdmFyIGkgPSB1bmRlZmluZWQ7XG4gIGZvciAoaiA9IDA7IGogPCBwcm9wcy5sZW5ndGg7IGorKykge1xuICAgIHByb3AgPSBwcm9wc1tqXTtcbiAgICBpZiAocHJvcCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHdoaWNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjc3NQcm9wID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocHJvcCA9PT0gJ2JvcmRlcicpIHtcbiAgICAgICAgICBjc3NQcm9wID0gcHJvcCArIHdoaWNoW2ldICsgJ1dpZHRoJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3NQcm9wID0gcHJvcCArIHdoaWNoW2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlICs9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZVgoZWxlbSwgY3NzUHJvcCkpIHx8IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBBIGNydWRlIHdheSBvZiBkZXRlcm1pbmluZyBpZiBhbiBvYmplY3QgaXMgYSB3aW5kb3dcbiAqIEBtZW1iZXIgdXRpbFxuICovXG5mdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcbiAgLy8gbXVzdCB1c2UgPT0gZm9yIGllOFxuICAvKiBlc2xpbnQgZXFlcWVxOjAgKi9cbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PSBvYmoud2luZG93O1xufVxuXG52YXIgZG9tVXRpbHMgPSB7fTtcblxuZWFjaChbJ1dpZHRoJywgJ0hlaWdodCddLCBmdW5jdGlvbiAobmFtZSkge1xuICBkb21VdGlsc1snZG9jJyArIG5hbWVdID0gZnVuY3Rpb24gKHJlZldpbikge1xuICAgIHZhciBkID0gcmVmV2luLmRvY3VtZW50O1xuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAvLyBmaXJlZm94IGNocm9tZSBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0PCBib2R5LnNjcm9sbEhlaWdodFxuICAgIC8vIGllIHN0YW5kYXJkIG1vZGUgOiBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0PiBib2R5LnNjcm9sbEhlaWdodFxuICAgIGQuZG9jdW1lbnRFbGVtZW50WydzY3JvbGwnICsgbmFtZV0sXG4gICAgLy8gcXVpcmtzIDogZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCDmnIDlpKfnrYnkuo7lj6/op4bnqpflj6PlpJrkuIDngrnvvJ9cbiAgICBkLmJvZHlbJ3Njcm9sbCcgKyBuYW1lXSwgZG9tVXRpbHNbJ3ZpZXdwb3J0JyArIG5hbWVdKGQpKTtcbiAgfTtcblxuICBkb21VdGlsc1sndmlld3BvcnQnICsgbmFtZV0gPSBmdW5jdGlvbiAod2luKSB7XG4gICAgLy8gcGMgYnJvd3NlciBpbmNsdWRlcyBzY3JvbGxiYXIgaW4gd2luZG93LmlubmVyV2lkdGhcbiAgICB2YXIgcHJvcCA9ICdjbGllbnQnICsgbmFtZTtcbiAgICB2YXIgZG9jID0gd2luLmRvY3VtZW50O1xuICAgIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIGRvY3VtZW50RWxlbWVudFByb3AgPSBkb2N1bWVudEVsZW1lbnRbcHJvcF07XG4gICAgLy8g5qCH5YeG5qih5byP5Y+WIGRvY3VtZW50RWxlbWVudFxuICAgIC8vIGJhY2tjb21wYXQg5Y+WIGJvZHlcbiAgICByZXR1cm4gZG9jLmNvbXBhdE1vZGUgPT09ICdDU1MxQ29tcGF0JyAmJiBkb2N1bWVudEVsZW1lbnRQcm9wIHx8IGJvZHkgJiYgYm9keVtwcm9wXSB8fCBkb2N1bWVudEVsZW1lbnRQcm9wO1xuICB9O1xufSk7XG5cbi8qXG4g5b6X5Yiw5YWD57Sg55qE5aSn5bCP5L+h5oGvXG4gQHBhcmFtIGVsZW1cbiBAcGFyYW0gbmFtZVxuIEBwYXJhbSB7U3RyaW5nfSBbZXh0cmFdICAncGFkZGluZycgOiAoY3NzIHdpZHRoKSArIHBhZGRpbmdcbiAnYm9yZGVyJyA6IChjc3Mgd2lkdGgpICsgcGFkZGluZyArIGJvcmRlclxuICdtYXJnaW4nIDogKGNzcyB3aWR0aCkgKyBwYWRkaW5nICsgYm9yZGVyICsgbWFyZ2luXG4gKi9cbmZ1bmN0aW9uIGdldFdIKGVsZW0sIG5hbWUsIGV4dHJhKSB7XG4gIGlmIChpc1dpbmRvdyhlbGVtKSkge1xuICAgIHJldHVybiBuYW1lID09PSAnd2lkdGgnID8gZG9tVXRpbHMudmlld3BvcnRXaWR0aChlbGVtKSA6IGRvbVV0aWxzLnZpZXdwb3J0SGVpZ2h0KGVsZW0pO1xuICB9IGVsc2UgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDkpIHtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ3dpZHRoJyA/IGRvbVV0aWxzLmRvY1dpZHRoKGVsZW0pIDogZG9tVXRpbHMuZG9jSGVpZ2h0KGVsZW0pO1xuICB9XG4gIHZhciB3aGljaCA9IG5hbWUgPT09ICd3aWR0aCcgPyBbJ0xlZnQnLCAnUmlnaHQnXSA6IFsnVG9wJywgJ0JvdHRvbSddO1xuICB2YXIgYm9yZGVyQm94VmFsdWUgPSBuYW1lID09PSAnd2lkdGgnID8gZWxlbS5vZmZzZXRXaWR0aCA6IGVsZW0ub2Zmc2V0SGVpZ2h0O1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGVYKGVsZW0pO1xuICB2YXIgaXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveEZuKGVsZW0sIGNvbXB1dGVkU3R5bGUpO1xuICB2YXIgY3NzQm94VmFsdWUgPSAwO1xuICBpZiAoYm9yZGVyQm94VmFsdWUgPT0gbnVsbCB8fCBib3JkZXJCb3hWYWx1ZSA8PSAwKSB7XG4gICAgYm9yZGVyQm94VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgLy8gRmFsbCBiYWNrIHRvIGNvbXB1dGVkIHRoZW4gdW4gY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuICAgIGNzc0JveFZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZVgoZWxlbSwgbmFtZSk7XG4gICAgaWYgKGNzc0JveFZhbHVlID09IG51bGwgfHwgTnVtYmVyKGNzc0JveFZhbHVlKSA8IDApIHtcbiAgICAgIGNzc0JveFZhbHVlID0gZWxlbS5zdHlsZVtuYW1lXSB8fCAwO1xuICAgIH1cbiAgICAvLyBOb3JtYWxpemUgJycsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuICAgIGNzc0JveFZhbHVlID0gcGFyc2VGbG9hdChjc3NCb3hWYWx1ZSkgfHwgMDtcbiAgfVxuICBpZiAoZXh0cmEgPT09IHVuZGVmaW5lZCkge1xuICAgIGV4dHJhID0gaXNCb3JkZXJCb3ggPyBCT1JERVJfSU5ERVggOiBDT05URU5UX0lOREVYO1xuICB9XG4gIHZhciBib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3ggPSBib3JkZXJCb3hWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IGlzQm9yZGVyQm94O1xuICB2YXIgdmFsID0gYm9yZGVyQm94VmFsdWUgfHwgY3NzQm94VmFsdWU7XG4gIGlmIChleHRyYSA9PT0gQ09OVEVOVF9JTkRFWCkge1xuICAgIGlmIChib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3gpIHtcbiAgICAgIHJldHVybiB2YWwgLSBnZXRQQk1XaWR0aChlbGVtLCBbJ2JvcmRlcicsICdwYWRkaW5nJ10sIHdoaWNoLCBjb21wdXRlZFN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNzc0JveFZhbHVlO1xuICB9XG4gIGlmIChib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3gpIHtcbiAgICB2YXIgcGFkZGluZyA9IGV4dHJhID09PSBQQURESU5HX0lOREVYID8gLWdldFBCTVdpZHRoKGVsZW0sIFsnYm9yZGVyJ10sIHdoaWNoLCBjb21wdXRlZFN0eWxlKSA6IGdldFBCTVdpZHRoKGVsZW0sIFsnbWFyZ2luJ10sIHdoaWNoLCBjb21wdXRlZFN0eWxlKTtcbiAgICByZXR1cm4gdmFsICsgKGV4dHJhID09PSBCT1JERVJfSU5ERVggPyAwIDogcGFkZGluZyk7XG4gIH1cbiAgcmV0dXJuIGNzc0JveFZhbHVlICsgZ2V0UEJNV2lkdGgoZWxlbSwgQk9YX01PREVMUy5zbGljZShleHRyYSksIHdoaWNoLCBjb21wdXRlZFN0eWxlKTtcbn1cblxudmFyIGNzc1Nob3cgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgZGlzcGxheTogJ2Jsb2NrJ1xufTtcblxuLy8gZml4ICMxMTkgOiBodHRwczovL2dpdGh1Yi5jb20va2lzc3l0ZWFtL2tpc3N5L2lzc3Vlcy8xMTlcbmZ1bmN0aW9uIGdldFdISWdub3JlRGlzcGxheShlbGVtKSB7XG4gIHZhciB2YWwgPSB1bmRlZmluZWQ7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAvLyBpbiBjYXNlIGVsZW0gaXMgd2luZG93XG4gIC8vIGVsZW0ub2Zmc2V0V2lkdGggPT09IHVuZGVmaW5lZFxuICBpZiAoZWxlbS5vZmZzZXRXaWR0aCAhPT0gMCkge1xuICAgIHZhbCA9IGdldFdILmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgc3dhcChlbGVtLCBjc3NTaG93LCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YWwgPSBnZXRXSC5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGNzcyhlbCwgbmFtZSwgdikge1xuICB2YXIgdmFsdWUgPSB2O1xuICBpZiAoKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yICh2YXIgaSBpbiBuYW1lKSB7XG4gICAgICBpZiAobmFtZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjc3MoZWwsIGksIG5hbWVbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhbHVlICs9ICdweCc7XG4gICAgfVxuICAgIGVsLnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZVgoZWwsIG5hbWUpO1xufVxuXG5lYWNoKFsnd2lkdGgnLCAnaGVpZ2h0J10sIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciBmaXJzdCA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuICBkb21VdGlsc1snb3V0ZXInICsgZmlyc3RdID0gZnVuY3Rpb24gKGVsLCBpbmNsdWRlTWFyZ2luKSB7XG4gICAgcmV0dXJuIGVsICYmIGdldFdISWdub3JlRGlzcGxheShlbCwgbmFtZSwgaW5jbHVkZU1hcmdpbiA/IE1BUkdJTl9JTkRFWCA6IEJPUkRFUl9JTkRFWCk7XG4gIH07XG4gIHZhciB3aGljaCA9IG5hbWUgPT09ICd3aWR0aCcgPyBbJ0xlZnQnLCAnUmlnaHQnXSA6IFsnVG9wJywgJ0JvdHRvbSddO1xuXG4gIGRvbVV0aWxzW25hbWVdID0gZnVuY3Rpb24gKGVsZW0sIHZhbCkge1xuICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlWChlbGVtKTtcbiAgICAgICAgdmFyIGlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3hGbihlbGVtKTtcbiAgICAgICAgaWYgKGlzQm9yZGVyQm94KSB7XG4gICAgICAgICAgdmFsICs9IGdldFBCTVdpZHRoKGVsZW0sIFsncGFkZGluZycsICdib3JkZXInXSwgd2hpY2gsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjc3MoZWxlbSwgbmFtZSwgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbGVtICYmIGdldFdISWdub3JlRGlzcGxheShlbGVtLCBuYW1lLCBDT05URU5UX0lOREVYKTtcbiAgfTtcbn0pO1xuXG4vLyDorr7nva4gZWxlbSDnm7jlr7kgZWxlbS5vd25lckRvY3VtZW50IOeahOWdkOagh1xuZnVuY3Rpb24gc2V0T2Zmc2V0KGVsZW0sIG9mZnNldCkge1xuICAvLyBzZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG4gIGlmIChjc3MoZWxlbSwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gIH1cblxuICB2YXIgb2xkID0gZ2V0T2Zmc2V0KGVsZW0pO1xuICB2YXIgcmV0ID0ge307XG4gIHZhciBjdXJyZW50ID0gdW5kZWZpbmVkO1xuICB2YXIga2V5ID0gdW5kZWZpbmVkO1xuXG4gIGZvciAoa2V5IGluIG9mZnNldCkge1xuICAgIGlmIChvZmZzZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY3VycmVudCA9IHBhcnNlRmxvYXQoY3NzKGVsZW0sIGtleSkpIHx8IDA7XG4gICAgICByZXRba2V5XSA9IGN1cnJlbnQgKyBvZmZzZXRba2V5XSAtIG9sZFtrZXldO1xuICAgIH1cbiAgfVxuICBjc3MoZWxlbSwgcmV0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZXh0ZW5kcyh7XG4gIGdldFdpbmRvdzogZnVuY3Rpb24gZ2V0V2luZG93KG5vZGUpIHtcbiAgICB2YXIgZG9jID0gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGU7XG4gICAgcmV0dXJuIGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93O1xuICB9LFxuICBvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldChlbCwgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgc2V0T2Zmc2V0KGVsLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXRPZmZzZXQoZWwpO1xuICAgIH1cbiAgfSxcblxuICBpc1dpbmRvdzogaXNXaW5kb3csXG4gIGVhY2g6IGVhY2gsXG4gIGNzczogY3NzLFxuICBjbG9uZTogZnVuY3Rpb24gY2xvbmUob2JqKSB7XG4gICAgdmFyIHJldCA9IHt9O1xuICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIHJldFtpXSA9IG9ialtpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG92ZXJmbG93ID0gb2JqLm92ZXJmbG93O1xuICAgIGlmIChvdmVyZmxvdykge1xuICAgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIHJldC5vdmVyZmxvd1tpXSA9IG9iai5vdmVyZmxvd1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuICBzY3JvbGxMZWZ0OiBmdW5jdGlvbiBzY3JvbGxMZWZ0KHcsIHYpIHtcbiAgICBpZiAoaXNXaW5kb3codykpIHtcbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNjcm9sbExlZnQodyk7XG4gICAgICB9XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8odiwgZ2V0U2Nyb2xsVG9wKHcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdy5zY3JvbGxMZWZ0O1xuICAgICAgfVxuICAgICAgdy5zY3JvbGxMZWZ0ID0gdjtcbiAgICB9XG4gIH0sXG4gIHNjcm9sbFRvcDogZnVuY3Rpb24gc2Nyb2xsVG9wKHcsIHYpIHtcbiAgICBpZiAoaXNXaW5kb3codykpIHtcbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNjcm9sbFRvcCh3KTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhnZXRTY3JvbGxMZWZ0KHcpLCB2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdy5zY3JvbGxUb3A7XG4gICAgICB9XG4gICAgICB3LnNjcm9sbFRvcCA9IHY7XG4gICAgfVxuICB9LFxuXG4gIHZpZXdwb3J0V2lkdGg6IDAsXG4gIHZpZXdwb3J0SGVpZ2h0OiAwXG59LCBkb21VdGlscyk7Il0sInNvdXJjZVJvb3QiOiIifQ==