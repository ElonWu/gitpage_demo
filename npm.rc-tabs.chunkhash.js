(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{681:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(7)),r=p(n(13)),i=p(n(9)),o=p(n(14)),s=p(n(10)),l=p(n(11)),f=p(n(1)),u=p(n(3)),c=p(n(23)),d=n(91);function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"getTabPanes",value:function(){var e=this.props,t=e.activeKey,n=e.children,a=[];return f.default.Children.forEach(n,function(n){if(n){var r=n.key,i=t===r;a.push(f.default.cloneElement(n,{active:i,destroyInactiveTabPane:e.destroyInactiveTabPane,rootPrefixCls:e.prefixCls}))}}),a}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,i=t.children,o=t.activeKey,s=t.className,l=t.tabBarPosition,u=t.animated,p=t.animatedWithMargin,v=t.style,h=(0,c.default)((e={},(0,r.default)(e,n+"-content",!0),(0,r.default)(e,u?n+"-content-animated":n+"-content-no-animated",!0),e),s);if(u){var y=(0,d.getActiveIndex)(i,o);if(-1!==y){var b=p?(0,d.getMarginStyle)(y,l):(0,d.getTransformPropValue)((0,d.getTransformByIndex)(y,l));v=(0,a.default)({},v,b)}else v=(0,a.default)({},v,{display:"none"})}return f.default.createElement("div",{className:h,style:v},this.getTabPanes())}}]),t}(f.default.Component);t.default=v,v.propTypes={animated:u.default.bool,animatedWithMargin:u.default.bool,prefixCls:u.default.string,children:u.default.node,activeKey:u.default.string,style:u.default.any,tabBarPosition:u.default.string,className:u.default.string},v.defaultProps={animated:!0},e.exports=t.default},683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=y(n(7)),r=y(n(45)),i=y(n(9)),o=y(n(14)),s=y(n(10)),l=y(n(11)),f=y(n(1)),u=y(n(3)),c=y(n(684)),d=y(n(685)),p=y(n(687)),v=y(n(688)),h=y(n(698));function y(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=(0,r.default)(e,["children"]);return f.default.createElement(h.default,null,function(e,r){return f.default.createElement(p.default,(0,a.default)({saveRef:e},n),f.default.createElement(v.default,(0,a.default)({saveRef:e,getRef:r},n),f.default.createElement(d.default,(0,a.default)({saveRef:e,renderTabBarNode:t},n)),f.default.createElement(c.default,(0,a.default)({saveRef:e,getRef:r},n))))})}}]),t}(f.default.Component);t.default=b,b.propTypes={children:u.default.func},e.exports=t.default},684:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=d(n(13)),r=d(n(9)),i=d(n(14)),o=d(n(10)),s=d(n(11)),l=d(n(1)),f=d(n(3)),u=d(n(23)),c=n(91);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=e.props,a=n.styles,r=n.panels,i=n.activeKey,o=e.props.getRef("root"),s=e.props.getRef("nav")||o,l=e.props.getRef("inkBar"),f=e.props.getRef("activeTab"),u=l.style,d=e.props.tabBarPosition,p=(0,c.getActiveIndex)(r,i);if(t&&(u.display="none"),f){var v=f,h=(0,c.isTransformSupported)(u);if((0,c.setTransform)(u,""),u.width="",u.height="",u.left="",u.top="",u.bottom="",u.right="","top"===d||"bottom"===d){var y=(0,c.getLeft)(v,s),b=v.offsetWidth;b===o.offsetWidth?b=0:a.inkBar&&void 0!==a.inkBar.width&&(b=parseFloat(a.inkBar.width,10))&&(y+=(v.offsetWidth-b)/2),h?(0,c.setTransform)(u,"translate3d("+y+"px,0,0)"):u.left=y+"px",u.width=b+"px"}else{var m=(0,c.getTop)(v,s,!0),g=v.offsetHeight;a.inkBar&&void 0!==a.inkBar.height&&(g=parseFloat(a.inkBar.height,10))&&(m+=(v.offsetHeight-g)/2),h?((0,c.setTransform)(u,"translate3d(0,"+m+"px,0)"),u.top="0"):u.top=m+"px",u.height=g+"px"}}u.display=-1!==p?"block":"none"}var v=function(e){function t(){return(0,r.default)(this,t),(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.timeout=setTimeout(function(){p(e,!0)},0)}},{key:"componentDidUpdate",value:function(){p(this)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.styles,i=t.inkBarAnimated,o=n+"-ink-bar",s=(0,u.default)((e={},(0,a.default)(e,o,!0),(0,a.default)(e,i?o+"-animated":o+"-no-animated",!0),e));return l.default.createElement("div",{style:r.inkBar,className:s,key:"inkBar",ref:this.props.saveRef("inkBar")})}}]),t}(l.default.Component);t.default=v,v.propTypes={prefixCls:f.default.string,styles:f.default.object,inkBarAnimated:f.default.bool,saveRef:f.default.func},v.defaultProps={prefixCls:"",inkBarAnimated:!0,styles:{},saveRef:function(){}},e.exports=t.default},685:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(n(7)),r=p(n(13)),i=p(n(9)),o=p(n(14)),s=p(n(10)),l=p(n(11)),f=p(n(1)),u=p(n(686)),c=p(n(3)),d=n(91);function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.panels,i=t.activeKey,o=t.prefixCls,s=t.tabBarGutter,l=t.saveRef,c=t.tabBarPosition,p=t.renderTabBarNode,v=[];return f.default.Children.forEach(n,function(t,h){if(t){var y=t.key,b=i===y?o+"-tab-active":"";b+=" "+o+"-tab";var m={};t.props.disabled?b+=" "+o+"-tab-disabled":m={onClick:e.props.onTabClick.bind(e,y)};var g={};i===y&&(g.ref=l("activeTab"));var x=s&&h===n.length-1?0:s,P=(0,r.default)({},(0,d.isVertical)(c)?"marginBottom":"marginRight",x);(0,u.default)("tab"in t.props,"There must be `tab` property on children of Tabs.");var T=f.default.createElement("div",(0,a.default)({role:"tab","aria-disabled":t.props.disabled?"true":"false","aria-selected":i===y?"true":"false"},m,{className:b,key:y,style:P},g),t.props.tab);p&&(T=p(T)),v.push(T)}}),f.default.createElement("div",{ref:l("navTabsContainer")},v)}}]),t}(f.default.Component);t.default=v,v.propTypes={activeKey:c.default.string,panels:c.default.node,prefixCls:c.default.string,tabBarGutter:c.default.number,onTabClick:c.default.func,saveRef:c.default.func,renderTabBarNode:c.default.func,tabBarPosition:c.default.string},v.defaultProps={panels:[],prefixCls:[],tabBarGutter:null,onTabClick:function(){},saveRef:function(){}},e.exports=t.default},686:function(e,t,n){"use strict";e.exports=function(){}},687:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(n(7)),r=h(n(13)),i=h(n(45)),o=h(n(9)),s=h(n(14)),l=h(n(10)),f=h(n(11)),u=n(1),c=h(u),d=h(n(3)),p=h(n(23)),v=n(91);function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,f.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.prefixCls,n=e.onKeyDown,o=e.className,s=e.extraContent,l=e.style,f=e.tabBarPosition,d=e.children,h=(0,i.default)(e,["prefixCls","onKeyDown","className","extraContent","style","tabBarPosition","children"]),y=(0,p.default)(t+"-bar",(0,r.default)({},o,!!o)),b="top"===f||"bottom"===f,m=b?{float:"right"}:{},g=s&&s.props?s.props.style:{},x=d;return s&&(x=[(0,u.cloneElement)(s,{key:"extra",style:(0,a.default)({},m,g)}),(0,u.cloneElement)(d,{key:"content"})],x=b?x:x.reverse()),c.default.createElement("div",(0,a.default)({role:"tablist",className:y,tabIndex:"0",ref:this.props.saveRef("root"),onKeyDown:n,style:l},(0,v.getDataAttr)(h)),x)}}]),t}(c.default.Component);t.default=y,y.propTypes={prefixCls:d.default.string,className:d.default.string,style:d.default.object,tabBarPosition:d.default.oneOf(["left","right","top","bottom"]),children:d.default.node,extraContent:d.default.node,onKeyDown:d.default.func,saveRef:d.default.func},y.defaultProps={prefixCls:"",className:"",style:{},tabBarPosition:"top",extraContent:null,children:null,onKeyDown:function(){},saveRef:function(){}},e.exports=t.default},688:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=v(n(13)),r=v(n(9)),i=v(n(14)),o=v(n(10)),s=v(n(11)),l=v(n(1)),f=v(n(3)),u=v(n(23)),c=v(n(193)),d=v(n(689)),p=n(91);function v(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,r.default)(this,t);var n=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.prevTransitionEnd=function(e){if("opacity"===e.propertyName){var t=n.props.getRef("container");n.scrollToActiveTab({target:t,currentTarget:t})}},n.scrollToActiveTab=function(e){var t=n.props.getRef("activeTab"),a=n.props.getRef("navWrap");if((!e||e.target===e.currentTarget)&&t){var r=n.isNextPrevShown()&&n.lastNextPrevShown;if(n.lastNextPrevShown=n.isNextPrevShown(),r){var i=n.getScrollWH(t),o=n.getOffsetWH(a),s=n.offset,l=n.getOffsetLT(a),f=n.getOffsetLT(t);l>f?(s+=l-f,n.setOffset(s)):l+o<f+i&&(s-=f+i-(l+o),n.setOffset(s))}}},n.prev=function(e){n.props.onPrevClick(e);var t=n.props.getRef("navWrap"),a=n.getOffsetWH(t),r=n.offset;n.setOffset(r+a)},n.next=function(e){n.props.onNextClick(e);var t=n.props.getRef("navWrap"),a=n.getOffsetWH(t),r=n.offset;n.setOffset(r-a)},n.offset=0,n.state={next:!1,prev:!1},n}return(0,s.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.componentDidUpdate(),this.debouncedResize=(0,d.default)(function(){e.setNextPrev(),e.scrollToActiveTab()},200),this.resizeEvent=(0,c.default)(window,"resize",this.debouncedResize)}},{key:"componentDidUpdate",value:function(e){var t=this.props;if(e&&e.tabBarPosition!==t.tabBarPosition)this.setOffset(0);else{var n=this.setNextPrev();this.isNextPrevShown(this.state)!==this.isNextPrevShown(n)?this.setState({},this.scrollToActiveTab):e&&t.activeKey===e.activeKey||this.scrollToActiveTab()}}},{key:"componentWillUnmount",value:function(){this.resizeEvent&&this.resizeEvent.remove(),this.debouncedResize&&this.debouncedResize.cancel&&this.debouncedResize.cancel()}},{key:"setNextPrev",value:function(){var e=this.props.getRef("nav"),t=this.props.getRef("navTabsContainer"),n=this.getScrollWH(t||e),a=this.getOffsetWH(this.props.getRef("container"))+1,r=this.getOffsetWH(this.props.getRef("navWrap")),i=this.offset,o=a-n,s=this.state,l=s.next,f=s.prev;if(o>=0)l=!1,this.setOffset(0,!1),i=0;else if(o<i)l=!0;else{l=!1;var u=r-n;this.setOffset(u,!1),i=u}return f=i<0,this.setNext(l),this.setPrev(f),{next:l,prev:f}}},{key:"getOffsetWH",value:function(e){var t=this.props.tabBarPosition,n="offsetWidth";return"left"!==t&&"right"!==t||(n="offsetHeight"),e[n]}},{key:"getScrollWH",value:function(e){var t=this.props.tabBarPosition,n="scrollWidth";return"left"!==t&&"right"!==t||(n="scrollHeight"),e[n]}},{key:"getOffsetLT",value:function(e){var t=this.props.tabBarPosition,n="left";return"left"!==t&&"right"!==t||(n="top"),e.getBoundingClientRect()[n]}},{key:"setOffset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Math.min(0,e);if(this.offset!==n){this.offset=n;var a={},r=this.props.tabBarPosition,i=this.props.getRef("nav").style,o=(0,p.isTransformSupported)(i);a="left"===r||"right"===r?o?{value:"translate3d(0,"+n+"px,0)"}:{name:"top",value:n+"px"}:o?{value:"translate3d("+n+"px,0,0)"}:{name:"left",value:n+"px"},o?(0,p.setTransform)(i,a.value):i[a.name]=a.value,t&&this.setNextPrev()}}},{key:"setPrev",value:function(e){this.state.prev!==e&&this.setState({prev:e})}},{key:"setNext",value:function(e){this.state.next!==e&&this.setState({next:e})}},{key:"isNextPrevShown",value:function(e){return e?e.next||e.prev:this.state.next||this.state.prev}},{key:"render",value:function(){var e,t,n,r,i=this.state,o=i.next,s=i.prev,f=this.props,c=f.prefixCls,d=f.scrollAnimated,p=f.navWrapper,v=f.prevIcon,h=f.nextIcon,y=s||o,b=l.default.createElement("span",{onClick:s?this.prev:null,unselectable:"unselectable",className:(0,u.default)((e={},(0,a.default)(e,c+"-tab-prev",1),(0,a.default)(e,c+"-tab-btn-disabled",!s),(0,a.default)(e,c+"-tab-arrow-show",y),e)),onTransitionEnd:this.prevTransitionEnd},v||l.default.createElement("span",{className:c+"-tab-prev-icon"})),m=l.default.createElement("span",{onClick:o?this.next:null,unselectable:"unselectable",className:(0,u.default)((t={},(0,a.default)(t,c+"-tab-next",1),(0,a.default)(t,c+"-tab-btn-disabled",!o),(0,a.default)(t,c+"-tab-arrow-show",y),t))},h||l.default.createElement("span",{className:c+"-tab-next-icon"})),g=c+"-nav",x=(0,u.default)((n={},(0,a.default)(n,g,!0),(0,a.default)(n,d?g+"-animated":g+"-no-animated",!0),n));return l.default.createElement("div",{className:(0,u.default)((r={},(0,a.default)(r,c+"-nav-container",1),(0,a.default)(r,c+"-nav-container-scrolling",y),r)),key:"container",ref:this.props.saveRef("container")},b,m,l.default.createElement("div",{className:c+"-nav-wrap",ref:this.props.saveRef("navWrap")},l.default.createElement("div",{className:c+"-nav-scroll"},l.default.createElement("div",{className:x,ref:this.props.saveRef("nav")},p(this.props.children)))))}}]),t}(l.default.Component);t.default=h,h.propTypes={activeKey:f.default.string,getRef:f.default.func.isRequired,saveRef:f.default.func.isRequired,tabBarPosition:f.default.oneOf(["left","right","top","bottom"]),prefixCls:f.default.string,scrollAnimated:f.default.bool,onPrevClick:f.default.func,onNextClick:f.default.func,navWrapper:f.default.func,children:f.default.node,prevIcon:f.default.node,nextIcon:f.default.node},h.defaultProps={tabBarPosition:"left",prefixCls:"",scrollAnimated:!0,onPrevClick:function(){},onNextClick:function(){},navWrapper:function(e){return e}},e.exports=t.default},698:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(n(9)),r=f(n(14)),i=f(n(10)),o=f(n(11)),s=f(n(1)),l=f(n(3));function f(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){var e,n,r,o;(0,a.default)(this,t);for(var s=arguments.length,l=Array(s),f=0;f<s;f++)l[f]=arguments[f];return n=r=(0,i.default)(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.getRef=function(e){return r[e]},r.saveRef=function(e){return function(t){t&&(r[e]=t)}},o=n,(0,i.default)(r,o)}return(0,o.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return this.props.children(this.saveRef,this.getRef)}}]),t}(s.default.Component);t.default=u,u.propTypes={children:l.default.func},u.defaultProps={children:function(){return null}},e.exports=t.default},711:function(e,t,n){"use strict";n.r(t);var a=n(7),r=n.n(a),i=n(13),o=n.n(i),s=n(45),l=n.n(s),f=n(9),u=n.n(f),c=n(14),d=n.n(c),p=n(10),v=n.n(p),h=n(11),y=n.n(h),b=n(1),m=n.n(b),g=n(3),x=n.n(g),P=n(23),T=n.n(P),k=n(94),C=n.n(k),_=37,E=38,S=39,R=40;function B(e){var t=[];return m.a.Children.forEach(e,function(e){e&&t.push(e)}),t}function N(e){return"left"===e||"right"===e}function O(e){return Object.keys(e).reduce(function(t,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(t[n]=e[n]),t},{})}var K=n(93),w=n(162),W=n.n(w)()({}),A=W.Provider,M=W.Consumer,j={width:0,height:0,overflow:"hidden",position:"absolute"},I=function(e){function t(){var e,n,a,r;u()(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=a=v()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onKeyDown=function(e){var t=e.target,n=e.which,r=e.shiftKey,i=a.props,o=i.nextElement,s=i.prevElement;n===K.a.TAB&&document.activeElement===t&&(!r&&o&&o.focus(),r&&s&&s.focus())},r=n,v()(a,r)}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.setRef;return m.a.createElement("div",{tabIndex:0,ref:e,style:j,onKeyDown:this.onKeyDown,role:"presentation"})}}]),t}(m.a.Component);I.propTypes={setRef:x.a.func,prevElement:x.a.object,nextElement:x.a.object};var D=I,z=function(e){function t(){return u()(this,t),v()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e,t=this.props,n=t.id,a=t.className,i=t.destroyInactiveTabPane,s=t.active,f=t.forceRender,u=t.rootPrefixCls,c=t.style,d=t.children,p=t.placeholder,v=l()(t,["id","className","destroyInactiveTabPane","active","forceRender","rootPrefixCls","style","children","placeholder"]);this._isActived=this._isActived||s;var h=u+"-tabpane",y=T()((e={},o()(e,h,1),o()(e,h+"-inactive",!s),o()(e,h+"-active",s),o()(e,a,a),e)),b=(i?s:this._isActived)||f;return m.a.createElement(M,null,function(e){var t=e.sentinelStart,a=e.sentinelEnd,i=e.setPanelSentinelStart,o=e.setPanelSentinelEnd,l=void 0,f=void 0;return s&&b&&(l=m.a.createElement(D,{setRef:i,prevElement:t}),f=m.a.createElement(D,{setRef:o,nextElement:a})),m.a.createElement("div",r()({style:c,role:"tabpanel","aria-hidden":s?"false":"true",className:y,id:n},O(v)),l,b?d:p,f)})}}]),t}(m.a.Component),H=z;function L(e){var t=void 0;return m.a.Children.forEach(e.children,function(e){!e||t||e.props.disabled||(t=e.key)}),t}z.propTypes={className:x.a.string,active:x.a.bool,style:x.a.any,destroyInactiveTabPane:x.a.bool,forceRender:x.a.bool,placeholder:x.a.node,rootPrefixCls:x.a.string,children:x.a.node,id:x.a.string},z.defaultProps={placeholder:null};var U=function(e){function t(e){u()(this,t);var n=v()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));V.call(n);var a=void 0;return a="activeKey"in e?e.activeKey:"defaultActiveKey"in e?e.defaultActiveKey:L(e),n.state={activeKey:a},n}return y()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){var t,n;"activeKey"in e?this.setState({activeKey:e.activeKey}):(t=e,n=this.state.activeKey,m.a.Children.map(t.children,function(e){return e&&e.key}).indexOf(n)>=0||this.setState({activeKey:L(e)}))}},{key:"componentWillUnmount",value:function(){this.destroy=!0,C.a.cancel(this.sentinelId)}},{key:"updateSentinelContext",value:function(){var e=this;this.destroy||(C.a.cancel(this.sentinelId),this.sentinelId=C()(function(){e.forceUpdate()}))}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,a=t.navWrapper,i=t.tabBarPosition,s=t.className,f=t.renderTabContent,u=t.renderTabBar,c=t.destroyInactiveTabPane,d=l()(t,["prefixCls","navWrapper","tabBarPosition","className","renderTabContent","renderTabBar","destroyInactiveTabPane"]),p=T()((e={},o()(e,n,1),o()(e,n+"-"+i,1),o()(e,s,!!s),e));this.tabBar=u();var v=m.a.cloneElement(this.tabBar,{prefixCls:n,navWrapper:a,key:"tabBar",onKeyDown:this.onNavKeyDown,tabBarPosition:i,onTabClick:this.onTabClick,panels:t.children,activeKey:this.state.activeKey}),h=m.a.cloneElement(f(),{prefixCls:n,tabBarPosition:i,activeKey:this.state.activeKey,destroyInactiveTabPane:c,children:t.children,onChange:this.setActiveKey,key:"tabContent"}),y=m.a.createElement(D,{key:"sentinelStart",setRef:this.setSentinelStart,nextElement:this.panelSentinelStart}),b=m.a.createElement(D,{key:"sentinelEnd",setRef:this.setSentinelEnd,prevElement:this.panelSentinelEnd}),g=[];return"bottom"===i?g.push(y,h,b,v):g.push(v,y,h,b),m.a.createElement(A,{value:{sentinelStart:this.sentinelStart,sentinelEnd:this.sentinelEnd,setPanelSentinelStart:this.setPanelSentinelStart,setPanelSentinelEnd:this.setPanelSentinelEnd}},m.a.createElement("div",r()({className:p,style:t.style},O(d),{onScroll:this.onScroll}),g))}}]),t}(m.a.Component),V=function(){var e=this;this.onTabClick=function(t,n){e.tabBar.props.onTabClick&&e.tabBar.props.onTabClick(t,n),e.setActiveKey(t)},this.onNavKeyDown=function(t){var n=t.keyCode;if(n===S||n===R){t.preventDefault();var a=e.getNextActiveKey(!0);e.onTabClick(a)}else if(n===_||n===E){t.preventDefault();var r=e.getNextActiveKey(!1);e.onTabClick(r)}},this.onScroll=function(e){var t=e.target;t===e.currentTarget&&t.scrollLeft>0&&(t.scrollLeft=0)},this.setSentinelStart=function(t){e.sentinelStart=t},this.setSentinelEnd=function(t){e.sentinelEnd=t},this.setPanelSentinelStart=function(t){t!==e.panelSentinelStart&&e.updateSentinelContext(),e.panelSentinelStart=t},this.setPanelSentinelEnd=function(t){t!==e.panelSentinelEnd&&e.updateSentinelContext(),e.panelSentinelEnd=t},this.setActiveKey=function(t){e.state.activeKey!==t&&("activeKey"in e.props||e.setState({activeKey:t}),e.props.onChange(t))},this.getNextActiveKey=function(t){var n=e.state.activeKey,a=[];m.a.Children.forEach(e.props.children,function(e){e&&!e.props.disabled&&(t?a.push(e):a.unshift(e))});var r=a.length,i=r&&a[0].key;return a.forEach(function(e,t){e.key===n&&(i=t===r-1?a[0].key:a[t+1].key)}),i}},q=U;U.propTypes={destroyInactiveTabPane:x.a.bool,renderTabBar:x.a.func.isRequired,renderTabContent:x.a.func.isRequired,navWrapper:x.a.func,onChange:x.a.func,children:x.a.node,prefixCls:x.a.string,className:x.a.string,tabBarPosition:x.a.string,style:x.a.object,activeKey:x.a.string,defaultActiveKey:x.a.string},U.defaultProps={prefixCls:"rc-tabs",destroyInactiveTabPane:!1,onChange:function(){},navWrapper:function(e){return e},tabBarPosition:"top",children:null,style:{}},U.TabPane=H;var G=function(e){function t(){return u()(this,t),v()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y()(t,e),d()(t,[{key:"getTabPanes",value:function(){var e=this.props,t=e.activeKey,n=e.children,a=[];return m.a.Children.forEach(n,function(n){if(n){var r=n.key,i=t===r;a.push(m.a.cloneElement(n,{active:i,destroyInactiveTabPane:e.destroyInactiveTabPane,rootPrefixCls:e.prefixCls}))}}),a}},{key:"render",value:function(){var e,t,n=this.props,a=n.prefixCls,i=n.children,s=n.activeKey,l=n.className,f=n.tabBarPosition,u=n.animated,c=n.animatedWithMargin,d=n.style,p=T()((e={},o()(e,a+"-content",!0),o()(e,u?a+"-content-animated":a+"-content-no-animated",!0),e),l);if(u){var v=function(e,t){for(var n=B(e),a=0;a<n.length;a++)if(n[a].key===t)return a;return-1}(i,s);if(-1!==v){var h=c?function(e,t){var n=N(t)?"marginTop":"marginLeft";return o()({},n,100*-e+"%")}(v,f):{transform:t=function(e,t){return(N(t)?"translateY":"translateX")+"("+100*-e+"%) translateZ(0)"}(v,f),WebkitTransform:t,MozTransform:t};d=r()({},d,h)}else d=r()({},d,{display:"none"})}return m.a.createElement("div",{className:p,style:d},this.getTabPanes())}}]),t}(m.a.Component),F=G;G.propTypes={animated:x.a.bool,animatedWithMargin:x.a.bool,prefixCls:x.a.string,children:x.a.node,activeKey:x.a.string,style:x.a.any,tabBarPosition:x.a.string,className:x.a.string},G.defaultProps={animated:!0},n.d(t,"TabPane",function(){return H}),n.d(t,"TabContent",function(){return F});t.default=q},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(13));t.toArray=o,t.getActiveIndex=function(e,t){for(var n=o(e),a=0;a<n.length;a++)if(n[a].key===t)return a;return-1},t.getActiveKey=function(e,t){return o(e)[t].key},t.setTransform=s,t.isTransformSupported=function(e){return"transform"in e||"webkitTransform"in e||"MozTransform"in e},t.setTransition=function(e,t){e.transition=t,e.webkitTransition=t,e.MozTransition=t},t.getTransformPropValue=function(e){return{transform:e,WebkitTransform:e,MozTransform:e}},t.isVertical=l,t.getTransformByIndex=function(e,t){return(l(t)?"translateY":"translateX")+"("+100*-e+"%) translateZ(0)"},t.getMarginStyle=function(e,t){var n=l(t)?"marginTop":"marginLeft";return(0,a.default)({},n,100*-e+"%")},t.getStyle=f,t.setPxStyle=function(e,t,n){t=n?"0px, "+t+"px, 0px":t+"px, 0px, 0px",s(e.style,"translate3d("+t+")")},t.getDataAttr=function(e){return Object.keys(e).reduce(function(t,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(t[n]=e[n]),t},{})},t.getLeft=function(e,t){return c("left","offsetWidth","right",e,t)},t.getTop=function(e,t){return c("top","offsetHeight","bottom",e,t)};var r=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=[];return r.default.Children.forEach(e,function(e){e&&t.push(e)}),t}function s(e,t){e.transform=t,e.webkitTransform=t,e.mozTransform=t}function l(e){return"left"===e||"right"===e}function f(e,t){return+window.getComputedStyle(e).getPropertyValue(t).replace("px","")}function u(e,t){return+e.getPropertyValue(t).replace("px","")}function c(e,t,n,a,r){var i=f(r,"padding-"+e);if(!a||!a.parentNode)return i;var o=a.parentNode.childNodes;return Array.prototype.some.call(o,function(r){var o=window.getComputedStyle(r);return r!==a?(i+=u(o,"margin-"+e),i+=r[t],i+=u(o,"margin-"+n),"content-box"===o.boxSizing&&(i+=u(o,"border-"+e+"-width")+u(o,"border-"+n+"-width")),!1):(i+=u(o,"margin-"+e),!0)}),i}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdGFicy9saWIvVGFiQ29udGVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdGFicy9saWIvU2Nyb2xsYWJsZUlua1RhYkJhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdGFicy9saWIvSW5rVGFiQmFyTm9kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdGFicy9saWIvVGFiQmFyVGFic05vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXRhYnMvbm9kZV9tb2R1bGVzL3dhcm5pbmcvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdGFicy9saWIvVGFiQmFyUm9vdE5vZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXRhYnMvbGliL1Njcm9sbGFibGVUYWJCYXJOb2RlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy10YWJzL2xpYi9TYXZlUmVmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy10YWJzL2VzL0tleUNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXRhYnMvZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXRhYnMvZXMvU2VudGluZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXRhYnMvZXMvVGFiUGFuZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtdGFicy9lcy9UYWJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy10YWJzL2VzL1RhYkNvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXRhYnMvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXRhYnMvbGliL3V0aWxzLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiX2V4dGVuZHMzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJfZGVmaW5lUHJvcGVydHkzIiwiX2NsYXNzQ2FsbENoZWNrMyIsIl9jcmVhdGVDbGFzczMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMiLCJfaW5oZXJpdHMzIiwiX3JlYWN0MiIsIl9wcm9wVHlwZXMyIiwiX2NsYXNzbmFtZXMzIiwiX3V0aWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJUYWJDb250ZW50IiwiX1JlYWN0JENvbXBvbmVudCIsInRoaXMiLCJfX3Byb3RvX18iLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiYXJndW1lbnRzIiwia2V5IiwicHJvcHMiLCJhY3RpdmVLZXkiLCJjaGlsZHJlbiIsIm5ld0NoaWxkcmVuIiwiQ2hpbGRyZW4iLCJmb3JFYWNoIiwiY2hpbGQiLCJhY3RpdmUiLCJwdXNoIiwiY2xvbmVFbGVtZW50IiwiZGVzdHJveUluYWN0aXZlVGFiUGFuZSIsInJvb3RQcmVmaXhDbHMiLCJwcmVmaXhDbHMiLCJfY2xhc3NuYW1lcyIsImNsYXNzTmFtZSIsInRhYkJhclBvc2l0aW9uIiwiYW5pbWF0ZWQiLCJhbmltYXRlZFdpdGhNYXJnaW4iLCJzdHlsZSIsImNsYXNzZXMiLCJhY3RpdmVJbmRleCIsImdldEFjdGl2ZUluZGV4IiwiYW5pbWF0ZWRTdHlsZSIsImdldE1hcmdpblN0eWxlIiwiZ2V0VHJhbnNmb3JtUHJvcFZhbHVlIiwiZ2V0VHJhbnNmb3JtQnlJbmRleCIsImRpc3BsYXkiLCJjcmVhdGVFbGVtZW50IiwiZ2V0VGFiUGFuZXMiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJib29sIiwic3RyaW5nIiwibm9kZSIsImFueSIsImRlZmF1bHRQcm9wcyIsIm1vZHVsZSIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczMiLCJfSW5rVGFiQmFyTm9kZTIiLCJfVGFiQmFyVGFic05vZGUyIiwiX1RhYkJhclJvb3ROb2RlMiIsIl9TY3JvbGxhYmxlVGFiQmFyTm9kZTIiLCJfU2F2ZVJlZjIiLCJTY3JvbGxhYmxlSW5rVGFiQmFyIiwiX3Byb3BzIiwicmVuZGVyVGFiQmFyTm9kZSIsInJlc3RQcm9wcyIsInNhdmVSZWYiLCJnZXRSZWYiLCJmdW5jIiwiX2NvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudCIsImluaXQiLCJfY29tcG9uZW50JHByb3BzIiwic3R5bGVzIiwicGFuZWxzIiwicm9vdE5vZGUiLCJ3cmFwTm9kZSIsImlua0Jhck5vZGUiLCJhY3RpdmVUYWIiLCJpbmtCYXJOb2RlU3R5bGUiLCJ0YWJOb2RlIiwidHJhbnNmb3JtU3VwcG9ydGVkIiwiaXNUcmFuc2Zvcm1TdXBwb3J0ZWQiLCJzZXRUcmFuc2Zvcm0iLCJ3aWR0aCIsImhlaWdodCIsImxlZnQiLCJ0b3AiLCJib3R0b20iLCJyaWdodCIsImdldExlZnQiLCJvZmZzZXRXaWR0aCIsImlua0JhciIsInVuZGVmaW5lZCIsInBhcnNlRmxvYXQiLCJnZXRUb3AiLCJvZmZzZXRIZWlnaHQiLCJJbmtUYWJCYXJOb2RlIiwiX3RoaXMyIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJpbmtCYXJBbmltYXRlZCIsInJlZiIsIm9iamVjdCIsIl93YXJuaW5nMiIsIlRhYkJhclRhYnNOb2RlIiwidGFiQmFyR3V0dGVyIiwicnN0IiwiaW5kZXgiLCJjbHMiLCJldmVudHMiLCJkaXNhYmxlZCIsIm9uQ2xpY2siLCJvblRhYkNsaWNrIiwiYmluZCIsImd1dHRlciIsImxlbmd0aCIsImlzVmVydGljYWwiLCJyb2xlIiwiYXJpYS1kaXNhYmxlZCIsImFyaWEtc2VsZWN0ZWQiLCJ0YWIiLCJudW1iZXIiLCJfcmVhY3QiLCJUYWJCYXJSb290Tm9kZSIsIm9uS2V5RG93biIsImV4dHJhQ29udGVudCIsInRvcE9yQm90dG9tIiwidGFiQmFyRXh0cmFDb250ZW50U3R5bGUiLCJmbG9hdCIsImV4dHJhQ29udGVudFN0eWxlIiwicmV2ZXJzZSIsInRhYkluZGV4IiwiZ2V0RGF0YUF0dHIiLCJvbmVPZiIsIl9jbGFzc25hbWVzNiIsIl9hZGRFdmVudExpc3RlbmVyMiIsIl9kZWJvdW5jZTIiLCJTY3JvbGxhYmxlVGFiQmFyTm9kZSIsIl90aGlzIiwiY2FsbCIsInByZXZUcmFuc2l0aW9uRW5kIiwiZSIsInByb3BlcnR5TmFtZSIsImNvbnRhaW5lciIsInNjcm9sbFRvQWN0aXZlVGFiIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsIm5hdldyYXAiLCJuZWVkVG9Tcm9sbCIsImlzTmV4dFByZXZTaG93biIsImxhc3ROZXh0UHJldlNob3duIiwiYWN0aXZlVGFiV0giLCJnZXRTY3JvbGxXSCIsIm5hdldyYXBOb2RlV0giLCJnZXRPZmZzZXRXSCIsIm9mZnNldCIsIndyYXBPZmZzZXQiLCJnZXRPZmZzZXRMVCIsImFjdGl2ZVRhYk9mZnNldCIsInNldE9mZnNldCIsInByZXYiLCJvblByZXZDbGljayIsIm5hdldyYXBOb2RlIiwibmV4dCIsIm9uTmV4dENsaWNrIiwic3RhdGUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJkZWJvdW5jZWRSZXNpemUiLCJzZXROZXh0UHJldiIsInJlc2l6ZUV2ZW50Iiwid2luZG93IiwicHJldlByb3BzIiwibmV4dFByZXYiLCJzZXRTdGF0ZSIsInJlbW92ZSIsImNhbmNlbCIsIm5hdk5vZGUiLCJuYXZUYWJzQ29udGFpbmVyIiwibmF2Tm9kZVdIIiwiY29udGFpbmVyV0giLCJtaW5PZmZzZXQiLCJfc3RhdGUiLCJyZWFsT2Zmc2V0Iiwic2V0TmV4dCIsInNldFByZXYiLCJwcm9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2hlY2tOZXh0UHJldiIsIk1hdGgiLCJtaW4iLCJuYXZPZmZzZXQiLCJuYXZTdHlsZSIsIm5hbWUiLCJ2IiwiX2NsYXNzbmFtZXMyIiwiX2NsYXNzbmFtZXM0IiwiX3N0YXRlMiIsInNjcm9sbEFuaW1hdGVkIiwibmF2V3JhcHBlciIsInByZXZJY29uIiwibmV4dEljb24iLCJzaG93TmV4dFByZXYiLCJwcmV2QnV0dG9uIiwidW5zZWxlY3RhYmxlIiwib25UcmFuc2l0aW9uRW5kIiwibmV4dEJ1dHRvbiIsIm5hdkNsYXNzTmFtZSIsIm5hdkNsYXNzZXMiLCJpc1JlcXVpcmVkIiwiZWxlIiwiU2F2ZVJlZiIsIl9yZWYiLCJfdGVtcCIsIl9yZXQiLCJfbGVuIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImNvbmNhdCIsIktleUNvZGUiLCJ0b0FycmF5IiwiYyIsInJlYWN0X2RlZmF1bHQiLCJhIiwia2V5cyIsInJlZHVjZSIsInN1YnN0ciIsIlNlbnRpbmVsQ29udGV4dCIsImxpYl9kZWZhdWx0IiwiU2VudGluZWxQcm92aWRlciIsIlByb3ZpZGVyIiwiU2VudGluZWxDb25zdW1lciIsIkNvbnN1bWVyIiwic2VudGluZWxTdHlsZSIsIm92ZXJmbG93IiwicG9zaXRpb24iLCJTZW50aW5lbF9TZW50aW5lbCIsIlNlbnRpbmVsIiwiY2xhc3NDYWxsQ2hlY2tfZGVmYXVsdCIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5fZGVmYXVsdCIsIl9yZWYyIiwid2hpY2giLCJzaGlmdEtleSIsIl90aGlzJHByb3BzIiwibmV4dEVsZW1lbnQiLCJwcmV2RWxlbWVudCIsImVzX0tleUNvZGUiLCJUQUIiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJmb2N1cyIsImluaGVyaXRzX2RlZmF1bHQiLCJjcmVhdGVDbGFzc19kZWZhdWx0Iiwic2V0UmVmIiwicHJvcF90eXBlc19kZWZhdWx0IiwiZXNfU2VudGluZWwiLCJUYWJQYW5lX1RhYlBhbmUiLCJUYWJQYW5lIiwiaWQiLCJmb3JjZVJlbmRlciIsInBsYWNlaG9sZGVyIiwib2JqZWN0V2l0aG91dFByb3BlcnRpZXNfZGVmYXVsdCIsIl9pc0FjdGl2ZWQiLCJjbGFzc25hbWVzX2RlZmF1bHQiLCJkZWZpbmVQcm9wZXJ0eV9kZWZhdWx0Iiwic2hvdWxkUmVuZGVyIiwic2VudGluZWxTdGFydCIsInNlbnRpbmVsRW5kIiwic2V0UGFuZWxTZW50aW5lbFN0YXJ0Iiwic2V0UGFuZWxTZW50aW5lbEVuZCIsInBhbmVsU2VudGluZWxTdGFydCIsInBhbmVsU2VudGluZWxFbmQiLCJleHRlbmRzX2RlZmF1bHQiLCJhcmlhLWhpZGRlbiIsImVzX1RhYlBhbmUiLCJnZXREZWZhdWx0QWN0aXZlS2V5IiwiVGFic19UYWJzIiwiVGFicyIsIlRhYnNfaW5pdGlhbGlzZVByb3BzIiwiZGVmYXVsdEFjdGl2ZUtleSIsIm5leHRQcm9wcyIsIm1hcCIsImluZGV4T2YiLCJkZXN0cm95IiwicmFmX2RlZmF1bHQiLCJzZW50aW5lbElkIiwiZm9yY2VVcGRhdGUiLCJyZW5kZXJUYWJDb250ZW50IiwicmVuZGVyVGFiQmFyIiwidGFiQmFyIiwib25OYXZLZXlEb3duIiwidGFiQ29udGVudCIsIm9uQ2hhbmdlIiwic2V0QWN0aXZlS2V5Iiwic2V0U2VudGluZWxTdGFydCIsInNldFNlbnRpbmVsRW5kIiwiY29udGVudHMiLCJvblNjcm9sbCIsIl90aGlzMyIsImV2ZW50S2V5Q29kZSIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsIm5leHRLZXkiLCJnZXROZXh0QWN0aXZlS2V5IiwicHJldmlvdXNLZXkiLCJzY3JvbGxMZWZ0IiwidXBkYXRlU2VudGluZWxDb250ZXh0IiwidW5zaGlmdCIsInJldCIsImkiLCJlc19UYWJzIiwiYXJnIiwiVGFiQ29udGVudF9UYWJDb250ZW50IiwibWFyZ2luRGlyZWN0aW9uIiwidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwiZXNfVGFiQ29udGVudCIsImQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiZ2V0QWN0aXZlS2V5Iiwic2V0VHJhbnNpdGlvbiIsInRyYW5zaXRpb24iLCJ3ZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsImdldFN0eWxlIiwic2V0UHhTdHlsZSIsImVsIiwidmVydGljYWwiLCJ3cmFwcGVyTm9kZSIsImdldFR5cGVWYWx1ZSIsIndlYmtpdFRyYW5zZm9ybSIsIm1velRyYW5zZm9ybSIsInByb3BlcnR5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJyZXBsYWNlIiwidG9OdW0iLCJzdGFydCIsImN1cnJlbnQiLCJlbmQiLCJ0b3RhbCIsInBhcmVudE5vZGUiLCJjaGlsZE5vZGVzIiwicHJvdG90eXBlIiwic29tZSIsImJveFNpemluZyJdLCJtYXBwaW5ncyI6IjJGQUVBQSxPQUFBQyxlQUFBQyxFQUFBLGNBQ0FDLE9BQUEsSUFHQSxJQUVBQyxFQUFBQyxFQUZnQkMsRUFBUSxJQU14QkMsRUFBQUYsRUFGdUJDLEVBQVEsS0FNL0JFLEVBQUFILEVBRnVCQyxFQUFRLElBTS9CRyxFQUFBSixFQUZvQkMsRUFBUSxLQU01QkksRUFBQUwsRUFGa0NDLEVBQVEsS0FNMUNLLEVBQUFOLEVBRmlCQyxFQUFRLEtBTXpCTSxFQUFBUCxFQUZhQyxFQUFRLElBTXJCTyxFQUFBUixFQUZpQkMsRUFBUSxJQU16QlEsRUFBQVQsRUFGbUJDLEVBQVEsS0FJM0JTLEVBQWFULEVBQVEsSUFFckIsU0FBQUQsRUFBQVcsR0FBc0MsT0FBQUEsS0FBQUMsV0FBQUQsRUFBQSxDQUF1Q0UsUUFBQUYsR0FFN0UsSUFBQUcsRUFBQSxTQUFBQyxHQUdBLFNBQUFELElBRUEsT0FEQSxFQUFBWCxFQUFBLFNBQUFhLEtBQUFGLElBQ0EsRUFBQVQsRUFBQSxTQUFBVyxNQUFBRixFQUFBRyxXQUFBdEIsT0FBQXVCLGVBQUFKLElBQUFLLE1BQUFILEtBQUFJLFlBK0RBLE9BbkVBLEVBQUFkLEVBQUEsU0FBQVEsRUFBQUMsSUFPQSxFQUFBWCxFQUFBLFNBQUFVLEVBQUEsRUFDQU8sSUFBQSxjQUNBdkIsTUFBQSxXQUNBLElBQUF3QixFQUFBTixLQUFBTSxNQUNBQyxFQUFBRCxFQUFBQyxVQUNBQyxFQUFBRixFQUFBRSxTQUNBQyxFQUFBLEdBZUEsT0FiQWxCLEVBQUEsUUFBQW1CLFNBQUFDLFFBQUFILEVBQUEsU0FBQUksR0FDQSxHQUFBQSxFQUFBLENB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QUFBLFdBQUFTLEdBQ0EsSUFBQXBRLE1BQUF3USxXQUNBLE9BQUFELEVBR0EsSUFBQUUsRUFBQXpRLEVBQUF3USxXQUFBQyxXQXVCQSxPQXJCQS9ILE1BQUFnSSxVQUFBQyxLQUFBOU0sS0FBQTRNLEVBQUEsU0FBQXJTLEdBQ0EsSUFBQWYsRUFBQXVJLE9BQUFvSyxpQkFBQTVSLEdBRUEsT0FBQUEsSUFBQTRCLEdBQ0F1USxHQUFBSixFQUFBOVMsRUFBQSxVQUFBK1MsR0FDQUcsR0FBQW5TLEVBQUFpUyxHQUNBRSxHQUFBSixFQUFBOVMsRUFBQSxVQUFBaVQsR0FFQSxnQkFBQWpULEVBQUF1VCxZQUNBTCxHQUFBSixFQUFBOVMsRUFBQSxVQUFBK1MsRUFBQSxVQUFBRCxFQUFBOVMsRUFBQSxVQUFBaVQsRUFBQSxZQUVBLElBS0FDLEdBQUFKLEVBQUE5UyxFQUFBLFVBQUErUyxJQUVBLEtBR0FHIiwiZmlsZSI6Im5wbS5yYy10YWJzLmNodW5raGFzaC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY2xhc3NuYW1lczIgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzMik7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIFRhYkNvbnRlbnQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1snZGVmYXVsdCddKShUYWJDb250ZW50LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJDb250ZW50KCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szWydkZWZhdWx0J10pKHRoaXMsIFRhYkNvbnRlbnQpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zWydkZWZhdWx0J10pKHRoaXMsIChUYWJDb250ZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFiQ29udGVudCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczNbJ2RlZmF1bHQnXSkoVGFiQ29udGVudCwgW3tcbiAgICBrZXk6ICdnZXRUYWJQYW5lcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRhYlBhbmVzKCkge1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciBhY3RpdmVLZXkgPSBwcm9wcy5hY3RpdmVLZXk7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgICAgIHZhciBuZXdDaGlsZHJlbiA9IFtdO1xuXG4gICAgICBfcmVhY3QyWydkZWZhdWx0J10uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgdmFyIGFjdGl2ZSA9IGFjdGl2ZUtleSA9PT0ga2V5O1xuICAgICAgICBuZXdDaGlsZHJlbi5wdXNoKF9yZWFjdDJbJ2RlZmF1bHQnXS5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgICBhY3RpdmU6IGFjdGl2ZSxcbiAgICAgICAgICBkZXN0cm95SW5hY3RpdmVUYWJQYW5lOiBwcm9wcy5kZXN0cm95SW5hY3RpdmVUYWJQYW5lLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHM6IHByb3BzLnByZWZpeENsc1xuICAgICAgICB9KSk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIG5ld0NoaWxkcmVuO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciBwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBhY3RpdmVLZXkgPSBwcm9wcy5hY3RpdmVLZXksXG4gICAgICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIHRhYkJhclBvc2l0aW9uID0gcHJvcHMudGFiQmFyUG9zaXRpb24sXG4gICAgICAgICAgYW5pbWF0ZWQgPSBwcm9wcy5hbmltYXRlZCxcbiAgICAgICAgICBhbmltYXRlZFdpdGhNYXJnaW4gPSBwcm9wcy5hbmltYXRlZFdpdGhNYXJnaW47XG4gICAgICB2YXIgc3R5bGUgPSBwcm9wcy5zdHlsZTtcblxuICAgICAgdmFyIGNsYXNzZXMgPSAoMCwgX2NsYXNzbmFtZXMzWydkZWZhdWx0J10pKChfY2xhc3NuYW1lcyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1jb250ZW50JywgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc25hbWVzLCBhbmltYXRlZCA/IHByZWZpeENscyArICctY29udGVudC1hbmltYXRlZCcgOiBwcmVmaXhDbHMgKyAnLWNvbnRlbnQtbm8tYW5pbWF0ZWQnLCB0cnVlKSwgX2NsYXNzbmFtZXMpLCBjbGFzc05hbWUpO1xuICAgICAgaWYgKGFuaW1hdGVkKSB7XG4gICAgICAgIHZhciBhY3RpdmVJbmRleCA9ICgwLCBfdXRpbHMuZ2V0QWN0aXZlSW5kZXgpKGNoaWxkcmVuLCBhY3RpdmVLZXkpO1xuICAgICAgICBpZiAoYWN0aXZlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdmFyIGFuaW1hdGVkU3R5bGUgPSBhbmltYXRlZFdpdGhNYXJnaW4gPyAoMCwgX3V0aWxzLmdldE1hcmdpblN0eWxlKShhY3RpdmVJbmRleCwgdGFiQmFyUG9zaXRpb24pIDogKDAsIF91dGlscy5nZXRUcmFuc2Zvcm1Qcm9wVmFsdWUpKCgwLCBfdXRpbHMuZ2V0VHJhbnNmb3JtQnlJbmRleCkoYWN0aXZlSW5kZXgsIHRhYkJhclBvc2l0aW9uKSk7XG4gICAgICAgICAgc3R5bGUgPSAoMCwgX2V4dGVuZHMzWydkZWZhdWx0J10pKHt9LCBzdHlsZSwgYW5pbWF0ZWRTdHlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3R5bGUgPSAoMCwgX2V4dGVuZHMzWydkZWZhdWx0J10pKHt9LCBzdHlsZSwge1xuICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuZ2V0VGFiUGFuZXMoKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFRhYkNvbnRlbnQ7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBUYWJDb250ZW50O1xuXG5cblRhYkNvbnRlbnQucHJvcFR5cGVzID0ge1xuICBhbmltYXRlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBhbmltYXRlZFdpdGhNYXJnaW46IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgcHJlZml4Q2xzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgYWN0aXZlS2V5OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYW55LFxuICB0YWJCYXJQb3NpdGlvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmdcbn07XG5cblRhYkNvbnRlbnQuZGVmYXVsdFByb3BzID0ge1xuICBhbmltYXRlZDogdHJ1ZVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJyk7XG5cbnZhciBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfSW5rVGFiQmFyTm9kZSA9IHJlcXVpcmUoJy4vSW5rVGFiQmFyTm9kZScpO1xuXG52YXIgX0lua1RhYkJhck5vZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSW5rVGFiQmFyTm9kZSk7XG5cbnZhciBfVGFiQmFyVGFic05vZGUgPSByZXF1aXJlKCcuL1RhYkJhclRhYnNOb2RlJyk7XG5cbnZhciBfVGFiQmFyVGFic05vZGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfVGFiQmFyVGFic05vZGUpO1xuXG52YXIgX1RhYkJhclJvb3ROb2RlID0gcmVxdWlyZSgnLi9UYWJCYXJSb290Tm9kZScpO1xuXG52YXIgX1RhYkJhclJvb3ROb2RlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RhYkJhclJvb3ROb2RlKTtcblxudmFyIF9TY3JvbGxhYmxlVGFiQmFyTm9kZSA9IHJlcXVpcmUoJy4vU2Nyb2xsYWJsZVRhYkJhck5vZGUnKTtcblxudmFyIF9TY3JvbGxhYmxlVGFiQmFyTm9kZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY3JvbGxhYmxlVGFiQmFyTm9kZSk7XG5cbnZhciBfU2F2ZVJlZiA9IHJlcXVpcmUoJy4vU2F2ZVJlZicpO1xuXG52YXIgX1NhdmVSZWYyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2F2ZVJlZik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIFNjcm9sbGFibGVJbmtUYWJCYXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1snZGVmYXVsdCddKShTY3JvbGxhYmxlSW5rVGFiQmFyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTY3JvbGxhYmxlSW5rVGFiQmFyKCkge1xuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szWydkZWZhdWx0J10pKHRoaXMsIFNjcm9sbGFibGVJbmtUYWJCYXIpO1xuICAgIHJldHVybiAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zWydkZWZhdWx0J10pKHRoaXMsIChTY3JvbGxhYmxlSW5rVGFiQmFyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2Nyb2xsYWJsZUlua1RhYkJhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgKDAsIF9jcmVhdGVDbGFzczNbJ2RlZmF1bHQnXSkoU2Nyb2xsYWJsZUlua1RhYkJhciwgW3tcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICByZW5kZXJUYWJCYXJOb2RlID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIHJlc3RQcm9wcyA9ICgwLCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMzWydkZWZhdWx0J10pKF9wcm9wcywgWydjaGlsZHJlbiddKTtcblxuXG4gICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIF9TYXZlUmVmMlsnZGVmYXVsdCddLFxuICAgICAgICBudWxsLFxuICAgICAgICBmdW5jdGlvbiAoc2F2ZVJlZiwgZ2V0UmVmKSB7XG4gICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX1RhYkJhclJvb3ROb2RlMlsnZGVmYXVsdCddLFxuICAgICAgICAgICAgKDAsIF9leHRlbmRzM1snZGVmYXVsdCddKSh7IHNhdmVSZWY6IHNhdmVSZWYgfSwgcmVzdFByb3BzKSxcbiAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBfU2Nyb2xsYWJsZVRhYkJhck5vZGUyWydkZWZhdWx0J10sXG4gICAgICAgICAgICAgICgwLCBfZXh0ZW5kczNbJ2RlZmF1bHQnXSkoeyBzYXZlUmVmOiBzYXZlUmVmLCBnZXRSZWY6IGdldFJlZiB9LCByZXN0UHJvcHMpLFxuICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfVGFiQmFyVGFic05vZGUyWydkZWZhdWx0J10sICgwLCBfZXh0ZW5kczNbJ2RlZmF1bHQnXSkoeyBzYXZlUmVmOiBzYXZlUmVmLCByZW5kZXJUYWJCYXJOb2RlOiByZW5kZXJUYWJCYXJOb2RlIH0sIHJlc3RQcm9wcykpLFxuICAgICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfSW5rVGFiQmFyTm9kZTJbJ2RlZmF1bHQnXSwgKDAsIF9leHRlbmRzM1snZGVmYXVsdCddKSh7IHNhdmVSZWY6IHNhdmVSZWYsIGdldFJlZjogZ2V0UmVmIH0sIHJlc3RQcm9wcykpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFNjcm9sbGFibGVJbmtUYWJCYXI7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpOyAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uICovXG5cblxuZXhwb3J0c1snZGVmYXVsdCddID0gU2Nyb2xsYWJsZUlua1RhYkJhcjtcblxuXG5TY3JvbGxhYmxlSW5rVGFiQmFyLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuY1xufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjaycpO1xuXG52YXIgX2NsYXNzQ2FsbENoZWNrMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzQ2FsbENoZWNrMik7XG5cbnZhciBfY3JlYXRlQ2xhc3MyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJyk7XG5cbnZhciBfY3JlYXRlQ2xhc3MzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlQ2xhc3MyKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJyk7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMik7XG5cbnZhciBfaW5oZXJpdHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJyk7XG5cbnZhciBfaW5oZXJpdHMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW5oZXJpdHMyKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9jbGFzc25hbWVzMiA9IHJlcXVpcmUoJ2NsYXNzbmFtZXMnKTtcblxudmFyIF9jbGFzc25hbWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsYXNzbmFtZXMyKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY29tcG9uZW50RGlkVXBkYXRlKGNvbXBvbmVudCwgaW5pdCkge1xuICB2YXIgX2NvbXBvbmVudCRwcm9wcyA9IGNvbXBvbmVudC5wcm9wcyxcbiAgICAgIHN0eWxlcyA9IF9jb21wb25lbnQkcHJvcHMuc3R5bGVzLFxuICAgICAgcGFuZWxzID0gX2NvbXBvbmVudCRwcm9wcy5wYW5lbHMsXG4gICAgICBhY3RpdmVLZXkgPSBfY29tcG9uZW50JHByb3BzLmFjdGl2ZUtleTtcblxuICB2YXIgcm9vdE5vZGUgPSBjb21wb25lbnQucHJvcHMuZ2V0UmVmKCdyb290Jyk7XG4gIHZhciB3cmFwTm9kZSA9IGNvbXBvbmVudC5wcm9wcy5nZXRSZWYoJ25hdicpIHx8IHJvb3ROb2RlO1xuICB2YXIgaW5rQmFyTm9kZSA9IGNvbXBvbmVudC5wcm9wcy5nZXRSZWYoJ2lua0JhcicpO1xuICB2YXIgYWN0aXZlVGFiID0gY29tcG9uZW50LnByb3BzLmdldFJlZignYWN0aXZlVGFiJyk7XG4gIHZhciBpbmtCYXJOb2RlU3R5bGUgPSBpbmtCYXJOb2RlLnN0eWxlO1xuICB2YXIgdGFiQmFyUG9zaXRpb24gPSBjb21wb25lbnQucHJvcHMudGFiQmFyUG9zaXRpb247XG4gIHZhciBhY3RpdmVJbmRleCA9ICgwLCBfdXRpbHMuZ2V0QWN0aXZlSW5kZXgpKHBhbmVscywgYWN0aXZlS2V5KTtcbiAgaWYgKGluaXQpIHtcbiAgICAvLyBwcmV2ZW50IG1vdW50IGFuaW1hdGlvblxuICAgIGlua0Jhck5vZGVTdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG4gIGlmIChhY3RpdmVUYWIpIHtcbiAgICB2YXIgdGFiTm9kZSA9IGFjdGl2ZVRhYjtcbiAgICB2YXIgdHJhbnNmb3JtU3VwcG9ydGVkID0gKDAsIF91dGlscy5pc1RyYW5zZm9ybVN1cHBvcnRlZCkoaW5rQmFyTm9kZVN0eWxlKTtcblxuICAgIC8vIFJlc2V0IGN1cnJlbnQgc3R5bGVcbiAgICAoMCwgX3V0aWxzLnNldFRyYW5zZm9ybSkoaW5rQmFyTm9kZVN0eWxlLCAnJyk7XG4gICAgaW5rQmFyTm9kZVN0eWxlLndpZHRoID0gJyc7XG4gICAgaW5rQmFyTm9kZVN0eWxlLmhlaWdodCA9ICcnO1xuICAgIGlua0Jhck5vZGVTdHlsZS5sZWZ0ID0gJyc7XG4gICAgaW5rQmFyTm9kZVN0eWxlLnRvcCA9ICcnO1xuICAgIGlua0Jhck5vZGVTdHlsZS5ib3R0b20gPSAnJztcbiAgICBpbmtCYXJOb2RlU3R5bGUucmlnaHQgPSAnJztcblxuICAgIGlmICh0YWJCYXJQb3NpdGlvbiA9PT0gJ3RvcCcgfHwgdGFiQmFyUG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICB2YXIgbGVmdCA9ICgwLCBfdXRpbHMuZ2V0TGVmdCkodGFiTm9kZSwgd3JhcE5vZGUpO1xuICAgICAgdmFyIHdpZHRoID0gdGFiTm9kZS5vZmZzZXRXaWR0aDtcblxuICAgICAgLy8gSWYgdGFiTm9kZSd3aWR0aCB3aWR0aCBlcXVhbCB0byB3cmFwTm9kZSd3aWR0aCB3aGVuIHRhYkJhclBvc2l0aW9uIGlzIHRvcCBvciBib3R0b21cbiAgICAgIC8vIEl0IG1lYW5zIG5vIGNzcyB3b3JraW5nLCB0aGVuIGluayBiYXIgc2hvdWxkIG5vdCBoYXZlIHdpZHRoIHVudGlsIGNzcyBpcyBsb2FkZWRcbiAgICAgIC8vIEZpeCBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy83NTY0XG4gICAgICBpZiAod2lkdGggPT09IHJvb3ROb2RlLm9mZnNldFdpZHRoKSB7XG4gICAgICAgIHdpZHRoID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoc3R5bGVzLmlua0JhciAmJiBzdHlsZXMuaW5rQmFyLndpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgd2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlcy5pbmtCYXIud2lkdGgsIDEwKTtcbiAgICAgICAgaWYgKHdpZHRoKSB7XG4gICAgICAgICAgbGVmdCArPSAodGFiTm9kZS5vZmZzZXRXaWR0aCAtIHdpZHRoKSAvIDI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gdXNlIDNkIGdwdSB0byBvcHRpbWl6ZSByZW5kZXJcbiAgICAgIGlmICh0cmFuc2Zvcm1TdXBwb3J0ZWQpIHtcbiAgICAgICAgKDAsIF91dGlscy5zZXRUcmFuc2Zvcm0pKGlua0Jhck5vZGVTdHlsZSwgJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LDAsMCknKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlua0Jhck5vZGVTdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XG4gICAgICB9XG4gICAgICBpbmtCYXJOb2RlU3R5bGUud2lkdGggPSB3aWR0aCArICdweCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0b3AgPSAoMCwgX3V0aWxzLmdldFRvcCkodGFiTm9kZSwgd3JhcE5vZGUsIHRydWUpO1xuICAgICAgdmFyIGhlaWdodCA9IHRhYk5vZGUub2Zmc2V0SGVpZ2h0O1xuICAgICAgaWYgKHN0eWxlcy5pbmtCYXIgJiYgc3R5bGVzLmlua0Jhci5oZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBoZWlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlcy5pbmtCYXIuaGVpZ2h0LCAxMCk7XG4gICAgICAgIGlmIChoZWlnaHQpIHtcbiAgICAgICAgICB0b3AgKz0gKHRhYk5vZGUub2Zmc2V0SGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2Zvcm1TdXBwb3J0ZWQpIHtcbiAgICAgICAgKDAsIF91dGlscy5zZXRUcmFuc2Zvcm0pKGlua0Jhck5vZGVTdHlsZSwgJ3RyYW5zbGF0ZTNkKDAsJyArIHRvcCArICdweCwwKScpO1xuICAgICAgICBpbmtCYXJOb2RlU3R5bGUudG9wID0gJzAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5rQmFyTm9kZVN0eWxlLnRvcCA9IHRvcCArICdweCc7XG4gICAgICB9XG4gICAgICBpbmtCYXJOb2RlU3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICB9XG4gIH1cbiAgaW5rQmFyTm9kZVN0eWxlLmRpc3BsYXkgPSBhY3RpdmVJbmRleCAhPT0gLTEgPyAnYmxvY2snIDogJ25vbmUnO1xufVxuXG52YXIgSW5rVGFiQmFyTm9kZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzWydkZWZhdWx0J10pKElua1RhYkJhck5vZGUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIElua1RhYkJhck5vZGUoKSB7XG4gICAgKDAsIF9jbGFzc0NhbGxDaGVjazNbJ2RlZmF1bHQnXSkodGhpcywgSW5rVGFiQmFyTm9kZSk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbJ2RlZmF1bHQnXSkodGhpcywgKElua1RhYkJhck5vZGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbmtUYWJCYXJOb2RlKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzM1snZGVmYXVsdCddKShJbmtUYWJCYXJOb2RlLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgLy8gcmVmIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzg2NzhcbiAgICAgIC8vIHJlZiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtY29tcG9uZW50L3RhYnMvaXNzdWVzLzEzNVxuICAgICAgLy8gSW5rVGFiQmFyTm9kZSBuZWVkIHBhcmVudC9yb290IHJlZiBmb3IgY2FsY3VsYXRpbmcgcG9zaXRpb25cbiAgICAgIC8vIHNpbmNlIHBhcmVudCBjb21wb25lbnREaWRNb3VudCB0cmlnZ2VyZWQgYWZ0ZXIgY2hpbGQgY29tcG9uZW50RGlkTW91bnRcbiAgICAgIC8vIHdlJ3JlIGRvaW5nIGEgcXVpY2sgZml4IGhlcmUgdG8gdXNlIHNldFRpbWVvdXQgdG8gY2FsY3VsYXRlIHBvc2l0aW9uXG4gICAgICAvLyBhZnRlciBwYXJlbnQvcm9vdCBjb21wb25lbnQgbW91bnRlZFxuICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9jb21wb25lbnREaWRVcGRhdGUoX3RoaXMyLCB0cnVlKTtcbiAgICAgIH0sIDApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIF9jb21wb25lbnREaWRVcGRhdGUodGhpcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgICBzdHlsZXMgPSBfcHJvcHMuc3R5bGVzLFxuICAgICAgICAgIGlua0JhckFuaW1hdGVkID0gX3Byb3BzLmlua0JhckFuaW1hdGVkO1xuXG4gICAgICB2YXIgY2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1pbmstYmFyJztcbiAgICAgIHZhciBjbGFzc2VzID0gKDAsIF9jbGFzc25hbWVzM1snZGVmYXVsdCddKSgoX2NsYXNzbmFtZXMgPSB7fSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbJ2RlZmF1bHQnXSkoX2NsYXNzbmFtZXMsIGNsYXNzTmFtZSwgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc25hbWVzLCBpbmtCYXJBbmltYXRlZCA/IGNsYXNzTmFtZSArICctYW5pbWF0ZWQnIDogY2xhc3NOYW1lICsgJy1uby1hbmltYXRlZCcsIHRydWUpLCBfY2xhc3NuYW1lcykpO1xuICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHN0eWxlOiBzdHlsZXMuaW5rQmFyLFxuICAgICAgICBjbGFzc05hbWU6IGNsYXNzZXMsXG4gICAgICAgIGtleTogJ2lua0JhcicsXG4gICAgICAgIHJlZjogdGhpcy5wcm9wcy5zYXZlUmVmKCdpbmtCYXInKVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBJbmtUYWJCYXJOb2RlO1xufShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gSW5rVGFiQmFyTm9kZTtcblxuXG5JbmtUYWJCYXJOb2RlLnByb3BUeXBlcyA9IHtcbiAgcHJlZml4Q2xzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgc3R5bGVzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCxcbiAgaW5rQmFyQW5pbWF0ZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc2F2ZVJlZjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jXG59O1xuXG5JbmtUYWJCYXJOb2RlLmRlZmF1bHRQcm9wcyA9IHtcbiAgcHJlZml4Q2xzOiAnJyxcbiAgaW5rQmFyQW5pbWF0ZWQ6IHRydWUsXG4gIHN0eWxlczoge30sXG4gIHNhdmVSZWY6IGZ1bmN0aW9uIHNhdmVSZWYoKSB7fVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJyk7XG5cbnZhciBfZXh0ZW5kczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9leHRlbmRzMik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBUYWJCYXJUYWJzTm9kZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzWydkZWZhdWx0J10pKFRhYkJhclRhYnNOb2RlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJCYXJUYWJzTm9kZSgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1snZGVmYXVsdCddKSh0aGlzLCBUYWJCYXJUYWJzTm9kZSk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbJ2RlZmF1bHQnXSkodGhpcywgKFRhYkJhclRhYnNOb2RlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFiQmFyVGFic05vZGUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzWydkZWZhdWx0J10pKFRhYkJhclRhYnNOb2RlLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5wYW5lbHMsXG4gICAgICAgICAgYWN0aXZlS2V5ID0gX3Byb3BzLmFjdGl2ZUtleSxcbiAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgIHRhYkJhckd1dHRlciA9IF9wcm9wcy50YWJCYXJHdXR0ZXIsXG4gICAgICAgICAgc2F2ZVJlZiA9IF9wcm9wcy5zYXZlUmVmLFxuICAgICAgICAgIHRhYkJhclBvc2l0aW9uID0gX3Byb3BzLnRhYkJhclBvc2l0aW9uLFxuICAgICAgICAgIHJlbmRlclRhYkJhck5vZGUgPSBfcHJvcHMucmVuZGVyVGFiQmFyTm9kZTtcblxuICAgICAgdmFyIHJzdCA9IFtdO1xuXG4gICAgICBfcmVhY3QyWydkZWZhdWx0J10uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgIHZhciBjbHMgPSBhY3RpdmVLZXkgPT09IGtleSA/IHByZWZpeENscyArICctdGFiLWFjdGl2ZScgOiAnJztcbiAgICAgICAgY2xzICs9ICcgJyArIHByZWZpeENscyArICctdGFiJztcbiAgICAgICAgdmFyIGV2ZW50cyA9IHt9O1xuICAgICAgICBpZiAoY2hpbGQucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBjbHMgKz0gJyAnICsgcHJlZml4Q2xzICsgJy10YWItZGlzYWJsZWQnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV2ZW50cyA9IHtcbiAgICAgICAgICAgIG9uQ2xpY2s6IF90aGlzMi5wcm9wcy5vblRhYkNsaWNrLmJpbmQoX3RoaXMyLCBrZXkpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVmID0ge307XG4gICAgICAgIGlmIChhY3RpdmVLZXkgPT09IGtleSkge1xuICAgICAgICAgIHJlZi5yZWYgPSBzYXZlUmVmKCdhY3RpdmVUYWInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBndXR0ZXIgPSB0YWJCYXJHdXR0ZXIgJiYgaW5kZXggPT09IGNoaWxkcmVuLmxlbmd0aCAtIDEgPyAwIDogdGFiQmFyR3V0dGVyO1xuICAgICAgICB2YXIgc3R5bGUgPSAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKSh7fSwgKDAsIF91dGlscy5pc1ZlcnRpY2FsKSh0YWJCYXJQb3NpdGlvbikgPyAnbWFyZ2luQm90dG9tJyA6ICdtYXJnaW5SaWdodCcsIGd1dHRlcik7XG4gICAgICAgICgwLCBfd2FybmluZzJbJ2RlZmF1bHQnXSkoJ3RhYicgaW4gY2hpbGQucHJvcHMsICdUaGVyZSBtdXN0IGJlIGB0YWJgIHByb3BlcnR5IG9uIGNoaWxkcmVuIG9mIFRhYnMuJyk7XG5cbiAgICAgICAgdmFyIG5vZGUgPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAoMCwgX2V4dGVuZHMzWydkZWZhdWx0J10pKHtcbiAgICAgICAgICAgIHJvbGU6ICd0YWInLFxuICAgICAgICAgICAgJ2FyaWEtZGlzYWJsZWQnOiBjaGlsZC5wcm9wcy5kaXNhYmxlZCA/ICd0cnVlJyA6ICdmYWxzZScsXG4gICAgICAgICAgICAnYXJpYS1zZWxlY3RlZCc6IGFjdGl2ZUtleSA9PT0ga2V5ID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgICAgIH0sIGV2ZW50cywge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHMsXG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgICAgIH0sIHJlZiksXG4gICAgICAgICAgY2hpbGQucHJvcHMudGFiXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHJlbmRlclRhYkJhck5vZGUpIHtcbiAgICAgICAgICBub2RlID0gcmVuZGVyVGFiQmFyTm9kZShub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJzdC5wdXNoKG5vZGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgcmVmOiBzYXZlUmVmKCduYXZUYWJzQ29udGFpbmVyJykgfSxcbiAgICAgICAgcnN0XG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVGFiQmFyVGFic05vZGU7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBUYWJCYXJUYWJzTm9kZTtcblxuXG5UYWJCYXJUYWJzTm9kZS5wcm9wVHlwZXMgPSB7XG4gIGFjdGl2ZUtleTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHBhbmVsczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBwcmVmaXhDbHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICB0YWJCYXJHdXR0ZXI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubnVtYmVyLFxuICBvblRhYkNsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHNhdmVSZWY6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyVGFiQmFyTm9kZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICB0YWJCYXJQb3NpdGlvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmdcbn07XG5cblRhYkJhclRhYnNOb2RlLmRlZmF1bHRQcm9wcyA9IHtcbiAgcGFuZWxzOiBbXSxcbiAgcHJlZml4Q2xzOiBbXSxcbiAgdGFiQmFyR3V0dGVyOiBudWxsLFxuICBvblRhYkNsaWNrOiBmdW5jdGlvbiBvblRhYkNsaWNrKCkge30sXG4gIHNhdmVSZWY6IGZ1bmN0aW9uIHNhdmVSZWYoKSB7fVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTQtMjAxNSwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIHdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB3YXJuaW5nID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGFyZ3MpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBhcmdzID0gbmV3IEFycmF5KGxlbiA+IDIgPyBsZW4gLSAyIDogMCk7XG4gICAgZm9yICh2YXIga2V5ID0gMjsga2V5IDwgbGVuOyBrZXkrKykge1xuICAgICAgYXJnc1trZXkgLSAyXSA9IGFyZ3VtZW50c1trZXldO1xuICAgIH1cbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAnbWVzc2FnZSBhcmd1bWVudCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGZvcm1hdC5sZW5ndGggPCAxMCB8fCAoL15bc1xcV10qJC8pLnRlc3QoZm9ybWF0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIHdhcm5pbmcgZm9ybWF0IHNob3VsZCBiZSBhYmxlIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgJyArXG4gICAgICAgICd3YXJuaW5nLiBQbGVhc2UsIHVzZSBhIG1vcmUgZGVzY3JpcHRpdmUgZm9ybWF0IHRoYW46ICcgKyBmb3JtYXRcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgICB9KTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgfSBjYXRjaCh4KSB7fVxuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnKTtcblxudmFyIF9leHRlbmRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4dGVuZHMyKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcycpO1xuXG52YXIgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzMik7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2syID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJyk7XG5cbnZhciBfY2xhc3NDYWxsQ2hlY2szID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NDYWxsQ2hlY2syKTtcblxudmFyIF9jcmVhdGVDbGFzczIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnKTtcblxudmFyIF9jcmVhdGVDbGFzczMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVDbGFzczIpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nKTtcblxudmFyIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yKTtcblxudmFyIF9pbmhlcml0czIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnKTtcblxudmFyIF9pbmhlcml0czMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pbmhlcml0czIpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NsYXNzbmFtZXMyID0gcmVxdWlyZSgnY2xhc3NuYW1lcycpO1xuXG52YXIgX2NsYXNzbmFtZXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2xhc3NuYW1lczIpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBUYWJCYXJSb290Tm9kZSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICgwLCBfaW5oZXJpdHMzWydkZWZhdWx0J10pKFRhYkJhclJvb3ROb2RlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJCYXJSb290Tm9kZSgpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1snZGVmYXVsdCddKSh0aGlzLCBUYWJCYXJSb290Tm9kZSk7XG4gICAgcmV0dXJuICgwLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjNbJ2RlZmF1bHQnXSkodGhpcywgKFRhYkJhclJvb3ROb2RlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFiQmFyUm9vdE5vZGUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gICgwLCBfY3JlYXRlQ2xhc3MzWydkZWZhdWx0J10pKFRhYkJhclJvb3ROb2RlLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgb25LZXlEb3duID0gX3Byb3BzLm9uS2V5RG93bixcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGV4dHJhQ29udGVudCA9IF9wcm9wcy5leHRyYUNvbnRlbnQsXG4gICAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgICAgdGFiQmFyUG9zaXRpb24gPSBfcHJvcHMudGFiQmFyUG9zaXRpb24sXG4gICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgcmVzdFByb3BzID0gKDAsIF9vYmplY3RXaXRob3V0UHJvcGVydGllczNbJ2RlZmF1bHQnXSkoX3Byb3BzLCBbJ3ByZWZpeENscycsICdvbktleURvd24nLCAnY2xhc3NOYW1lJywgJ2V4dHJhQ29udGVudCcsICdzdHlsZScsICd0YWJCYXJQb3NpdGlvbicsICdjaGlsZHJlbiddKTtcblxuICAgICAgdmFyIGNscyA9ICgwLCBfY2xhc3NuYW1lczNbJ2RlZmF1bHQnXSkocHJlZml4Q2xzICsgJy1iYXInLCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKSh7fSwgY2xhc3NOYW1lLCAhIWNsYXNzTmFtZSkpO1xuICAgICAgdmFyIHRvcE9yQm90dG9tID0gdGFiQmFyUG9zaXRpb24gPT09ICd0b3AnIHx8IHRhYkJhclBvc2l0aW9uID09PSAnYm90dG9tJztcbiAgICAgIHZhciB0YWJCYXJFeHRyYUNvbnRlbnRTdHlsZSA9IHRvcE9yQm90dG9tID8geyBmbG9hdDogJ3JpZ2h0JyB9IDoge307XG4gICAgICB2YXIgZXh0cmFDb250ZW50U3R5bGUgPSBleHRyYUNvbnRlbnQgJiYgZXh0cmFDb250ZW50LnByb3BzID8gZXh0cmFDb250ZW50LnByb3BzLnN0eWxlIDoge307XG4gICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGlmIChleHRyYUNvbnRlbnQpIHtcbiAgICAgICAgbmV3Q2hpbGRyZW4gPSBbKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGV4dHJhQ29udGVudCwge1xuICAgICAgICAgIGtleTogJ2V4dHJhJyxcbiAgICAgICAgICBzdHlsZTogKDAsIF9leHRlbmRzM1snZGVmYXVsdCddKSh7fSwgdGFiQmFyRXh0cmFDb250ZW50U3R5bGUsIGV4dHJhQ29udGVudFN0eWxlKVxuICAgICAgICB9KSwgKDAsIF9yZWFjdC5jbG9uZUVsZW1lbnQpKGNoaWxkcmVuLCB7IGtleTogJ2NvbnRlbnQnIH0pXTtcbiAgICAgICAgbmV3Q2hpbGRyZW4gPSB0b3BPckJvdHRvbSA/IG5ld0NoaWxkcmVuIDogbmV3Q2hpbGRyZW4ucmV2ZXJzZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgKDAsIF9leHRlbmRzM1snZGVmYXVsdCddKSh7XG4gICAgICAgICAgcm9sZTogJ3RhYmxpc3QnLFxuICAgICAgICAgIGNsYXNzTmFtZTogY2xzLFxuICAgICAgICAgIHRhYkluZGV4OiAnMCcsXG4gICAgICAgICAgcmVmOiB0aGlzLnByb3BzLnNhdmVSZWYoJ3Jvb3QnKSxcbiAgICAgICAgICBvbktleURvd246IG9uS2V5RG93bixcbiAgICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgICAgfSwgKDAsIF91dGlscy5nZXREYXRhQXR0cikocmVzdFByb3BzKSksXG4gICAgICAgIG5ld0NoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVGFiQmFyUm9vdE5vZGU7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBUYWJCYXJSb290Tm9kZTtcblxuXG5UYWJCYXJSb290Tm9kZS5wcm9wVHlwZXMgPSB7XG4gIHByZWZpeENsczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdCxcbiAgdGFiQmFyUG9zaXRpb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2YoWydsZWZ0JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nXSksXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIGV4dHJhQ29udGVudDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBvbktleURvd246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgc2F2ZVJlZjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jXG59O1xuXG5UYWJCYXJSb290Tm9kZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZWZpeENsczogJycsXG4gIGNsYXNzTmFtZTogJycsXG4gIHN0eWxlOiB7fSxcbiAgdGFiQmFyUG9zaXRpb246ICd0b3AnLFxuICBleHRyYUNvbnRlbnQ6IG51bGwsXG4gIGNoaWxkcmVuOiBudWxsLFxuICBvbktleURvd246IGZ1bmN0aW9uIG9uS2V5RG93bigpIHt9LFxuICBzYXZlUmVmOiBmdW5jdGlvbiBzYXZlUmVmKCkge31cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gcmVxdWlyZSgnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5Jyk7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkyKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY2xhc3NuYW1lczUgPSByZXF1aXJlKCdjbGFzc25hbWVzJyk7XG5cbnZhciBfY2xhc3NuYW1lczYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc25hbWVzNSk7XG5cbnZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IHJlcXVpcmUoJ3JjLXV0aWwvbGliL0RvbS9hZGRFdmVudExpc3RlbmVyJyk7XG5cbnZhciBfYWRkRXZlbnRMaXN0ZW5lcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hZGRFdmVudExpc3RlbmVyKTtcblxudmFyIF9kZWJvdW5jZSA9IHJlcXVpcmUoJ2xvZGFzaC9kZWJvdW5jZScpO1xuXG52YXIgX2RlYm91bmNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYm91bmNlKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgU2Nyb2xsYWJsZVRhYkJhck5vZGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1snZGVmYXVsdCddKShTY3JvbGxhYmxlVGFiQmFyTm9kZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU2Nyb2xsYWJsZVRhYkJhck5vZGUocHJvcHMpIHtcbiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrM1snZGVmYXVsdCddKSh0aGlzLCBTY3JvbGxhYmxlVGFiQmFyTm9kZSk7XG5cbiAgICB2YXIgX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zWydkZWZhdWx0J10pKHRoaXMsIChTY3JvbGxhYmxlVGFiQmFyTm9kZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNjcm9sbGFibGVUYWJCYXJOb2RlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMucHJldlRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUucHJvcGVydHlOYW1lICE9PSAnb3BhY2l0eScpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGNvbnRhaW5lciA9IF90aGlzLnByb3BzLmdldFJlZignY29udGFpbmVyJyk7XG4gICAgICBfdGhpcy5zY3JvbGxUb0FjdGl2ZVRhYih7XG4gICAgICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgICAgICBjdXJyZW50VGFyZ2V0OiBjb250YWluZXJcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5zY3JvbGxUb0FjdGl2ZVRhYiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgYWN0aXZlVGFiID0gX3RoaXMucHJvcHMuZ2V0UmVmKCdhY3RpdmVUYWInKTtcbiAgICAgIHZhciBuYXZXcmFwID0gX3RoaXMucHJvcHMuZ2V0UmVmKCduYXZXcmFwJyk7XG4gICAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0IHx8ICFhY3RpdmVUYWIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyB3aGVuIG5vdCBzY3JvbGxhYmxlIG9yIGVudGVyIHNjcm9sbGFibGUgZmlyc3QgdGltZSwgZG9uJ3QgZW1pdCBzY3JvbGxpbmdcbiAgICAgIHZhciBuZWVkVG9Tcm9sbCA9IF90aGlzLmlzTmV4dFByZXZTaG93bigpICYmIF90aGlzLmxhc3ROZXh0UHJldlNob3duO1xuICAgICAgX3RoaXMubGFzdE5leHRQcmV2U2hvd24gPSBfdGhpcy5pc05leHRQcmV2U2hvd24oKTtcbiAgICAgIGlmICghbmVlZFRvU3JvbGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWN0aXZlVGFiV0ggPSBfdGhpcy5nZXRTY3JvbGxXSChhY3RpdmVUYWIpO1xuICAgICAgdmFyIG5hdldyYXBOb2RlV0ggPSBfdGhpcy5nZXRPZmZzZXRXSChuYXZXcmFwKTtcbiAgICAgIHZhciBvZmZzZXQgPSBfdGhpcy5vZmZzZXQ7XG5cbiAgICAgIHZhciB3cmFwT2Zmc2V0ID0gX3RoaXMuZ2V0T2Zmc2V0TFQobmF2V3JhcCk7XG4gICAgICB2YXIgYWN0aXZlVGFiT2Zmc2V0ID0gX3RoaXMuZ2V0T2Zmc2V0TFQoYWN0aXZlVGFiKTtcbiAgICAgIGlmICh3cmFwT2Zmc2V0ID4gYWN0aXZlVGFiT2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCArPSB3cmFwT2Zmc2V0IC0gYWN0aXZlVGFiT2Zmc2V0O1xuICAgICAgICBfdGhpcy5zZXRPZmZzZXQob2Zmc2V0KTtcbiAgICAgIH0gZWxzZSBpZiAod3JhcE9mZnNldCArIG5hdldyYXBOb2RlV0ggPCBhY3RpdmVUYWJPZmZzZXQgKyBhY3RpdmVUYWJXSCkge1xuICAgICAgICBvZmZzZXQgLT0gYWN0aXZlVGFiT2Zmc2V0ICsgYWN0aXZlVGFiV0ggLSAod3JhcE9mZnNldCArIG5hdldyYXBOb2RlV0gpO1xuICAgICAgICBfdGhpcy5zZXRPZmZzZXQob2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMucHJldiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5wcm9wcy5vblByZXZDbGljayhlKTtcbiAgICAgIHZhciBuYXZXcmFwTm9kZSA9IF90aGlzLnByb3BzLmdldFJlZignbmF2V3JhcCcpO1xuICAgICAgdmFyIG5hdldyYXBOb2RlV0ggPSBfdGhpcy5nZXRPZmZzZXRXSChuYXZXcmFwTm9kZSk7XG4gICAgICB2YXIgb2Zmc2V0ID0gX3RoaXMub2Zmc2V0O1xuXG4gICAgICBfdGhpcy5zZXRPZmZzZXQob2Zmc2V0ICsgbmF2V3JhcE5vZGVXSCk7XG4gICAgfTtcblxuICAgIF90aGlzLm5leHQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMucHJvcHMub25OZXh0Q2xpY2soZSk7XG4gICAgICB2YXIgbmF2V3JhcE5vZGUgPSBfdGhpcy5wcm9wcy5nZXRSZWYoJ25hdldyYXAnKTtcbiAgICAgIHZhciBuYXZXcmFwTm9kZVdIID0gX3RoaXMuZ2V0T2Zmc2V0V0gobmF2V3JhcE5vZGUpO1xuICAgICAgdmFyIG9mZnNldCA9IF90aGlzLm9mZnNldDtcblxuICAgICAgX3RoaXMuc2V0T2Zmc2V0KG9mZnNldCAtIG5hdldyYXBOb2RlV0gpO1xuICAgIH07XG5cbiAgICBfdGhpcy5vZmZzZXQgPSAwO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBuZXh0OiBmYWxzZSxcbiAgICAgIHByZXY6IGZhbHNlXG4gICAgfTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzM1snZGVmYXVsdCddKShTY3JvbGxhYmxlVGFiQmFyTm9kZSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHRoaXMuY29tcG9uZW50RGlkVXBkYXRlKCk7XG4gICAgICB0aGlzLmRlYm91bmNlZFJlc2l6ZSA9ICgwLCBfZGVib3VuY2UyWydkZWZhdWx0J10pKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLnNldE5leHRQcmV2KCk7XG4gICAgICAgIF90aGlzMi5zY3JvbGxUb0FjdGl2ZVRhYigpO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIHRoaXMucmVzaXplRXZlbnQgPSAoMCwgX2FkZEV2ZW50TGlzdGVuZXIyWydkZWZhdWx0J10pKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuZGVib3VuY2VkUmVzaXplKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKHByZXZQcm9wcyAmJiBwcmV2UHJvcHMudGFiQmFyUG9zaXRpb24gIT09IHByb3BzLnRhYkJhclBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0T2Zmc2V0KDApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV4dFByZXYgPSB0aGlzLnNldE5leHRQcmV2KCk7XG4gICAgICAvLyB3YWl0IG5leHQsIHByZXYgc2hvdyBoaWRlXG4gICAgICAvKiBlc2xpbnQgcmVhY3Qvbm8tZGlkLXVwZGF0ZS1zZXQtc3RhdGU6MCAqL1xuICAgICAgaWYgKHRoaXMuaXNOZXh0UHJldlNob3duKHRoaXMuc3RhdGUpICE9PSB0aGlzLmlzTmV4dFByZXZTaG93bihuZXh0UHJldikpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7fSwgdGhpcy5zY3JvbGxUb0FjdGl2ZVRhYik7XG4gICAgICB9IGVsc2UgaWYgKCFwcmV2UHJvcHMgfHwgcHJvcHMuYWN0aXZlS2V5ICE9PSBwcmV2UHJvcHMuYWN0aXZlS2V5KSB7XG4gICAgICAgIC8vIGNhbiBub3QgdXNlIHByb3BzLmFjdGl2ZUtleVxuICAgICAgICB0aGlzLnNjcm9sbFRvQWN0aXZlVGFiKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLnJlc2l6ZUV2ZW50KSB7XG4gICAgICAgIHRoaXMucmVzaXplRXZlbnQucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kZWJvdW5jZWRSZXNpemUgJiYgdGhpcy5kZWJvdW5jZWRSZXNpemUuY2FuY2VsKSB7XG4gICAgICAgIHRoaXMuZGVib3VuY2VkUmVzaXplLmNhbmNlbCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldE5leHRQcmV2JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TmV4dFByZXYoKSB7XG4gICAgICB2YXIgbmF2Tm9kZSA9IHRoaXMucHJvcHMuZ2V0UmVmKCduYXYnKTtcbiAgICAgIHZhciBuYXZUYWJzQ29udGFpbmVyID0gdGhpcy5wcm9wcy5nZXRSZWYoJ25hdlRhYnNDb250YWluZXInKTtcbiAgICAgIHZhciBuYXZOb2RlV0ggPSB0aGlzLmdldFNjcm9sbFdIKG5hdlRhYnNDb250YWluZXIgfHwgbmF2Tm9kZSk7XG4gICAgICAvLyBBZGQgMXB4IHRvIGZpeCBgb2Zmc2V0V2lkdGhgIHdpdGggZGVjaW1hbCBpbiBDaHJvbWUgbm90IGNvcnJlY3QgaGFuZGxlXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy8xMzQyM1xuICAgICAgdmFyIGNvbnRhaW5lcldIID0gdGhpcy5nZXRPZmZzZXRXSCh0aGlzLnByb3BzLmdldFJlZignY29udGFpbmVyJykpICsgMTtcbiAgICAgIHZhciBuYXZXcmFwTm9kZVdIID0gdGhpcy5nZXRPZmZzZXRXSCh0aGlzLnByb3BzLmdldFJlZignbmF2V3JhcCcpKTtcbiAgICAgIHZhciBvZmZzZXQgPSB0aGlzLm9mZnNldDtcblxuICAgICAgdmFyIG1pbk9mZnNldCA9IGNvbnRhaW5lcldIIC0gbmF2Tm9kZVdIO1xuICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgbmV4dCA9IF9zdGF0ZS5uZXh0LFxuICAgICAgICAgIHByZXYgPSBfc3RhdGUucHJldjtcblxuICAgICAgaWYgKG1pbk9mZnNldCA+PSAwKSB7XG4gICAgICAgIG5leHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXRPZmZzZXQoMCwgZmFsc2UpO1xuICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgfSBlbHNlIGlmIChtaW5PZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgICAgbmV4dCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0ID0gZmFsc2U7XG4gICAgICAgIC8vIEZpeCBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy84ODYxXG4gICAgICAgIC8vIFRlc3Qgd2l0aCBjb250YWluZXIgb2Zmc2V0IHdoaWNoIGlzIHN0YWJsZVxuICAgICAgICAvLyBhbmQgc2V0IHRoZSBvZmZzZXQgb2YgdGhlIG5hdiB3cmFwIG5vZGVcbiAgICAgICAgdmFyIHJlYWxPZmZzZXQgPSBuYXZXcmFwTm9kZVdIIC0gbmF2Tm9kZVdIO1xuICAgICAgICB0aGlzLnNldE9mZnNldChyZWFsT2Zmc2V0LCBmYWxzZSk7XG4gICAgICAgIG9mZnNldCA9IHJlYWxPZmZzZXQ7XG4gICAgICB9XG5cbiAgICAgIGlmIChvZmZzZXQgPCAwKSB7XG4gICAgICAgIHByZXYgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldiA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldE5leHQobmV4dCk7XG4gICAgICB0aGlzLnNldFByZXYocHJldik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuZXh0OiBuZXh0LFxuICAgICAgICBwcmV2OiBwcmV2XG4gICAgICB9O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldE9mZnNldFdIJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2Zmc2V0V0gobm9kZSkge1xuICAgICAgdmFyIHRhYkJhclBvc2l0aW9uID0gdGhpcy5wcm9wcy50YWJCYXJQb3NpdGlvbjtcbiAgICAgIHZhciBwcm9wID0gJ29mZnNldFdpZHRoJztcbiAgICAgIGlmICh0YWJCYXJQb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHRhYkJhclBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgIHByb3AgPSAnb2Zmc2V0SGVpZ2h0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlW3Byb3BdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFNjcm9sbFdIJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Nyb2xsV0gobm9kZSkge1xuICAgICAgdmFyIHRhYkJhclBvc2l0aW9uID0gdGhpcy5wcm9wcy50YWJCYXJQb3NpdGlvbjtcbiAgICAgIHZhciBwcm9wID0gJ3Njcm9sbFdpZHRoJztcbiAgICAgIGlmICh0YWJCYXJQb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHRhYkJhclBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgIHByb3AgPSAnc2Nyb2xsSGVpZ2h0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlW3Byb3BdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldE9mZnNldExUJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2Zmc2V0TFQobm9kZSkge1xuICAgICAgdmFyIHRhYkJhclBvc2l0aW9uID0gdGhpcy5wcm9wcy50YWJCYXJQb3NpdGlvbjtcbiAgICAgIHZhciBwcm9wID0gJ2xlZnQnO1xuICAgICAgaWYgKHRhYkJhclBvc2l0aW9uID09PSAnbGVmdCcgfHwgdGFiQmFyUG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgcHJvcCA9ICd0b3AnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbcHJvcF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0T2Zmc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T2Zmc2V0KG9mZnNldCkge1xuICAgICAgdmFyIGNoZWNrTmV4dFByZXYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICAgIHZhciB0YXJnZXQgPSBNYXRoLm1pbigwLCBvZmZzZXQpO1xuICAgICAgaWYgKHRoaXMub2Zmc2V0ICE9PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB0YXJnZXQ7XG4gICAgICAgIHZhciBuYXZPZmZzZXQgPSB7fTtcbiAgICAgICAgdmFyIHRhYkJhclBvc2l0aW9uID0gdGhpcy5wcm9wcy50YWJCYXJQb3NpdGlvbjtcbiAgICAgICAgdmFyIG5hdlN0eWxlID0gdGhpcy5wcm9wcy5nZXRSZWYoJ25hdicpLnN0eWxlO1xuICAgICAgICB2YXIgdHJhbnNmb3JtU3VwcG9ydGVkID0gKDAsIF91dGlscy5pc1RyYW5zZm9ybVN1cHBvcnRlZCkobmF2U3R5bGUpO1xuICAgICAgICBpZiAodGFiQmFyUG9zaXRpb24gPT09ICdsZWZ0JyB8fCB0YWJCYXJQb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgIGlmICh0cmFuc2Zvcm1TdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgIG5hdk9mZnNldCA9IHtcbiAgICAgICAgICAgICAgdmFsdWU6ICd0cmFuc2xhdGUzZCgwLCcgKyB0YXJnZXQgKyAncHgsMCknXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuYXZPZmZzZXQgPSB7XG4gICAgICAgICAgICAgIG5hbWU6ICd0b3AnLFxuICAgICAgICAgICAgICB2YWx1ZTogdGFyZ2V0ICsgJ3B4J1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtU3VwcG9ydGVkKSB7XG4gICAgICAgICAgbmF2T2Zmc2V0ID0ge1xuICAgICAgICAgICAgdmFsdWU6ICd0cmFuc2xhdGUzZCgnICsgdGFyZ2V0ICsgJ3B4LDAsMCknXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYXZPZmZzZXQgPSB7XG4gICAgICAgICAgICBuYW1lOiAnbGVmdCcsXG4gICAgICAgICAgICB2YWx1ZTogdGFyZ2V0ICsgJ3B4J1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYW5zZm9ybVN1cHBvcnRlZCkge1xuICAgICAgICAgICgwLCBfdXRpbHMuc2V0VHJhbnNmb3JtKShuYXZTdHlsZSwgbmF2T2Zmc2V0LnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYXZTdHlsZVtuYXZPZmZzZXQubmFtZV0gPSBuYXZPZmZzZXQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrTmV4dFByZXYpIHtcbiAgICAgICAgICB0aGlzLnNldE5leHRQcmV2KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRQcmV2JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0UHJldih2KSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5wcmV2ICE9PSB2KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHByZXY6IHZcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc2V0TmV4dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldE5leHQodikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUubmV4dCAhPT0gdikge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBuZXh0OiB2XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2lzTmV4dFByZXZTaG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzTmV4dFByZXZTaG93bihzdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5uZXh0IHx8IHN0YXRlLnByZXY7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5uZXh0IHx8IHRoaXMuc3RhdGUucHJldjtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX2NsYXNzbmFtZXMsIF9jbGFzc25hbWVzMiwgX2NsYXNzbmFtZXMzLCBfY2xhc3NuYW1lczQ7XG5cbiAgICAgIHZhciBfc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICBuZXh0ID0gX3N0YXRlMi5uZXh0LFxuICAgICAgICAgIHByZXYgPSBfc3RhdGUyLnByZXY7XG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgIHNjcm9sbEFuaW1hdGVkID0gX3Byb3BzLnNjcm9sbEFuaW1hdGVkLFxuICAgICAgICAgIG5hdldyYXBwZXIgPSBfcHJvcHMubmF2V3JhcHBlcixcbiAgICAgICAgICBwcmV2SWNvbiA9IF9wcm9wcy5wcmV2SWNvbixcbiAgICAgICAgICBuZXh0SWNvbiA9IF9wcm9wcy5uZXh0SWNvbjtcblxuICAgICAgdmFyIHNob3dOZXh0UHJldiA9IHByZXYgfHwgbmV4dDtcblxuICAgICAgdmFyIHByZXZCdXR0b24gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7XG4gICAgICAgICAgb25DbGljazogcHJldiA/IHRoaXMucHJldiA6IG51bGwsXG4gICAgICAgICAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczZbJ2RlZmF1bHQnXSkoKF9jbGFzc25hbWVzID0ge30sICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRhYi1wcmV2JywgMSksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRhYi1idG4tZGlzYWJsZWQnLCAhcHJldiksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLXRhYi1hcnJvdy1zaG93Jywgc2hvd05leHRQcmV2KSwgX2NsYXNzbmFtZXMpKSxcbiAgICAgICAgICBvblRyYW5zaXRpb25FbmQ6IHRoaXMucHJldlRyYW5zaXRpb25FbmRcbiAgICAgICAgfSxcbiAgICAgICAgcHJldkljb24gfHwgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy10YWItcHJldi1pY29uJyB9KVxuICAgICAgKTtcblxuICAgICAgdmFyIG5leHRCdXR0b24gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7XG4gICAgICAgICAgb25DbGljazogbmV4dCA/IHRoaXMubmV4dCA6IG51bGwsXG4gICAgICAgICAgdW5zZWxlY3RhYmxlOiAndW5zZWxlY3RhYmxlJyxcbiAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczZbJ2RlZmF1bHQnXSkoKF9jbGFzc25hbWVzMiA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NuYW1lczIsIHByZWZpeENscyArICctdGFiLW5leHQnLCAxKSwgKDAsIF9kZWZpbmVQcm9wZXJ0eTNbJ2RlZmF1bHQnXSkoX2NsYXNzbmFtZXMyLCBwcmVmaXhDbHMgKyAnLXRhYi1idG4tZGlzYWJsZWQnLCAhbmV4dCksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc25hbWVzMiwgcHJlZml4Q2xzICsgJy10YWItYXJyb3ctc2hvdycsIHNob3dOZXh0UHJldiksIF9jbGFzc25hbWVzMikpXG4gICAgICAgIH0sXG4gICAgICAgIG5leHRJY29uIHx8IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctdGFiLW5leHQtaWNvbicgfSlcbiAgICAgICk7XG5cbiAgICAgIHZhciBuYXZDbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLW5hdic7XG4gICAgICB2YXIgbmF2Q2xhc3NlcyA9ICgwLCBfY2xhc3NuYW1lczZbJ2RlZmF1bHQnXSkoKF9jbGFzc25hbWVzMyA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NuYW1lczMsIG5hdkNsYXNzTmFtZSwgdHJ1ZSksICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKF9jbGFzc25hbWVzMywgc2Nyb2xsQW5pbWF0ZWQgPyBuYXZDbGFzc05hbWUgKyAnLWFuaW1hdGVkJyA6IG5hdkNsYXNzTmFtZSArICctbm8tYW5pbWF0ZWQnLCB0cnVlKSwgX2NsYXNzbmFtZXMzKSk7XG5cbiAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6ICgwLCBfY2xhc3NuYW1lczZbJ2RlZmF1bHQnXSkoKF9jbGFzc25hbWVzNCA9IHt9LCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NuYW1lczQsIHByZWZpeENscyArICctbmF2LWNvbnRhaW5lcicsIDEpLCAoMCwgX2RlZmluZVByb3BlcnR5M1snZGVmYXVsdCddKShfY2xhc3NuYW1lczQsIHByZWZpeENscyArICctbmF2LWNvbnRhaW5lci1zY3JvbGxpbmcnLCBzaG93TmV4dFByZXYpLCBfY2xhc3NuYW1lczQpKSxcbiAgICAgICAgICBrZXk6ICdjb250YWluZXInLFxuICAgICAgICAgIHJlZjogdGhpcy5wcm9wcy5zYXZlUmVmKCdjb250YWluZXInKVxuICAgICAgICB9LFxuICAgICAgICBwcmV2QnV0dG9uLFxuICAgICAgICBuZXh0QnV0dG9uLFxuICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1uYXYtd3JhcCcsIHJlZjogdGhpcy5wcm9wcy5zYXZlUmVmKCduYXZXcmFwJykgfSxcbiAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctbmF2LXNjcm9sbCcgfSxcbiAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IG5hdkNsYXNzZXMsIHJlZjogdGhpcy5wcm9wcy5zYXZlUmVmKCduYXYnKSB9LFxuICAgICAgICAgICAgICBuYXZXcmFwcGVyKHRoaXMucHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2Nyb2xsYWJsZVRhYkJhck5vZGU7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBTY3JvbGxhYmxlVGFiQmFyTm9kZTtcblxuXG5TY3JvbGxhYmxlVGFiQmFyTm9kZS5wcm9wVHlwZXMgPSB7XG4gIGFjdGl2ZUtleTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGdldFJlZjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLmlzUmVxdWlyZWQsXG4gIHNhdmVSZWY6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYy5pc1JlcXVpcmVkLFxuICB0YWJCYXJQb3NpdGlvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZihbJ2xlZnQnLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbSddKSxcbiAgcHJlZml4Q2xzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgc2Nyb2xsQW5pbWF0ZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgb25QcmV2Q2xpY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25OZXh0Q2xpY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgbmF2V3JhcHBlcjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBwcmV2SWNvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBuZXh0SWNvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlXG59O1xuXG5TY3JvbGxhYmxlVGFiQmFyTm9kZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHRhYkJhclBvc2l0aW9uOiAnbGVmdCcsXG4gIHByZWZpeENsczogJycsXG4gIHNjcm9sbEFuaW1hdGVkOiB0cnVlLFxuICBvblByZXZDbGljazogZnVuY3Rpb24gb25QcmV2Q2xpY2soKSB7fSxcbiAgb25OZXh0Q2xpY2s6IGZ1bmN0aW9uIG9uTmV4dENsaWNrKCkge30sXG4gIG5hdldyYXBwZXI6IGZ1bmN0aW9uIG5hdldyYXBwZXIoZWxlKSB7XG4gICAgcmV0dXJuIGVsZTtcbiAgfVxufTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snKTtcblxudmFyIF9jbGFzc0NhbGxDaGVjazMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jbGFzc0NhbGxDaGVjazIpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcycpO1xuXG52YXIgX2NyZWF0ZUNsYXNzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUNsYXNzMik7XG5cbnZhciBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybicpO1xuXG52YXIgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIpO1xuXG52YXIgX2luaGVyaXRzMiA9IHJlcXVpcmUoJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cycpO1xuXG52YXIgX2luaGVyaXRzMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2luaGVyaXRzMik7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIFNhdmVSZWYgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAoMCwgX2luaGVyaXRzM1snZGVmYXVsdCddKShTYXZlUmVmLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTYXZlUmVmKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgICgwLCBfY2xhc3NDYWxsQ2hlY2szWydkZWZhdWx0J10pKHRoaXMsIFNhdmVSZWYpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSAoMCwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4zWydkZWZhdWx0J10pKHRoaXMsIChfcmVmID0gU2F2ZVJlZi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFNhdmVSZWYpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5nZXRSZWYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIF90aGlzW25hbWVdO1xuICAgIH0sIF90aGlzLnNhdmVSZWYgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgX3RoaXNbbmFtZV0gPSBub2RlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sIF90ZW1wKSwgKDAsIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuM1snZGVmYXVsdCddKShfdGhpcywgX3JldCk7XG4gIH1cblxuICAoMCwgX2NyZWF0ZUNsYXNzM1snZGVmYXVsdCddKShTYXZlUmVmLCBbe1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuKHRoaXMuc2F2ZVJlZiwgdGhpcy5nZXRSZWYpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU2F2ZVJlZjtcbn0oX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IFNhdmVSZWY7XG5cblxuU2F2ZVJlZi5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmNcbn07XG5cblNhdmVSZWYuZGVmYXVsdFByb3BzID0ge1xuICBjaGlsZHJlbjogZnVuY3Rpb24gY2hpbGRyZW4oKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCJleHBvcnQgZGVmYXVsdCB7XG4gIC8qKlxuICAgKiBMRUZUXG4gICAqL1xuICBMRUZUOiAzNywgLy8gYWxzbyBOVU1fV0VTVFxuICAvKipcbiAgICogVVBcbiAgICovXG4gIFVQOiAzOCwgLy8gYWxzbyBOVU1fTk9SVEhcbiAgLyoqXG4gICAqIFJJR0hUXG4gICAqL1xuICBSSUdIVDogMzksIC8vIGFsc28gTlVNX0VBU1RcbiAgLyoqXG4gICAqIERPV05cbiAgICovXG4gIERPV046IDQwIC8vIGFsc28gTlVNX1NPVVRIXG59OyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0FycmF5KGNoaWxkcmVuKSB7XG4gIC8vIGFsbG93IFtjLFthLGJdXVxuICB2YXIgYyA9IFtdO1xuICBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGMucHVzaChjaGlsZCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVJbmRleChjaGlsZHJlbiwgYWN0aXZlS2V5KSB7XG4gIHZhciBjID0gdG9BcnJheShjaGlsZHJlbik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChjW2ldLmtleSA9PT0gYWN0aXZlS2V5KSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlS2V5KGNoaWxkcmVuLCBpbmRleCkge1xuICB2YXIgYyA9IHRvQXJyYXkoY2hpbGRyZW4pO1xuICByZXR1cm4gY1tpbmRleF0ua2V5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VHJhbnNmb3JtKHN0eWxlLCB2KSB7XG4gIHN0eWxlLnRyYW5zZm9ybSA9IHY7XG4gIHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHY7XG4gIHN0eWxlLm1velRyYW5zZm9ybSA9IHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RyYW5zZm9ybVN1cHBvcnRlZChzdHlsZSkge1xuICByZXR1cm4gJ3RyYW5zZm9ybScgaW4gc3R5bGUgfHwgJ3dlYmtpdFRyYW5zZm9ybScgaW4gc3R5bGUgfHwgJ01velRyYW5zZm9ybScgaW4gc3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uKHN0eWxlLCB2KSB7XG4gIHN0eWxlLnRyYW5zaXRpb24gPSB2O1xuICBzdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdjtcbiAgc3R5bGUuTW96VHJhbnNpdGlvbiA9IHY7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VHJhbnNmb3JtUHJvcFZhbHVlKHYpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2Zvcm06IHYsXG4gICAgV2Via2l0VHJhbnNmb3JtOiB2LFxuICAgIE1velRyYW5zZm9ybTogdlxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWZXJ0aWNhbCh0YWJCYXJQb3NpdGlvbikge1xuICByZXR1cm4gdGFiQmFyUG9zaXRpb24gPT09ICdsZWZ0JyB8fCB0YWJCYXJQb3NpdGlvbiA9PT0gJ3JpZ2h0Jztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zZm9ybUJ5SW5kZXgoaW5kZXgsIHRhYkJhclBvc2l0aW9uKSB7XG4gIHZhciB0cmFuc2xhdGUgPSBpc1ZlcnRpY2FsKHRhYkJhclBvc2l0aW9uKSA/ICd0cmFuc2xhdGVZJyA6ICd0cmFuc2xhdGVYJztcbiAgcmV0dXJuIHRyYW5zbGF0ZSArICcoJyArIC1pbmRleCAqIDEwMCArICclKSB0cmFuc2xhdGVaKDApJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE1hcmdpblN0eWxlKGluZGV4LCB0YWJCYXJQb3NpdGlvbikge1xuICB2YXIgbWFyZ2luRGlyZWN0aW9uID0gaXNWZXJ0aWNhbCh0YWJCYXJQb3NpdGlvbikgPyAnbWFyZ2luVG9wJyA6ICdtYXJnaW5MZWZ0JztcbiAgcmV0dXJuIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbWFyZ2luRGlyZWN0aW9uLCAtaW5kZXggKiAxMDAgKyAnJScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoZWwsIHByb3BlcnR5KSB7XG4gIHJldHVybiArd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpLnJlcGxhY2UoJ3B4JywgJycpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0UHhTdHlsZShlbCwgdmFsdWUsIHZlcnRpY2FsKSB7XG4gIHZhbHVlID0gdmVydGljYWwgPyAnMHB4LCAnICsgdmFsdWUgKyAncHgsIDBweCcgOiB2YWx1ZSArICdweCwgMHB4LCAwcHgnO1xuICBzZXRUcmFuc2Zvcm0oZWwuc3R5bGUsICd0cmFuc2xhdGUzZCgnICsgdmFsdWUgKyAnKScpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF0YUF0dHIocHJvcHMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGtleSkge1xuICAgIGlmIChrZXkuc3Vic3RyKDAsIDUpID09PSAnYXJpYS0nIHx8IGtleS5zdWJzdHIoMCwgNSkgPT09ICdkYXRhLScgfHwga2V5ID09PSAncm9sZScpIHtcbiAgICAgIHByZXZba2V5XSA9IHByb3BzW2tleV07XG4gICAgfVxuICAgIHJldHVybiBwcmV2O1xuICB9LCB7fSk7XG59XG5cbmZ1bmN0aW9uIHRvTnVtKHN0eWxlLCBwcm9wZXJ0eSkge1xuICByZXR1cm4gK3N0eWxlLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpLnJlcGxhY2UoJ3B4JywgJycpO1xufVxuXG5mdW5jdGlvbiBnZXRUeXBlVmFsdWUoc3RhcnQsIGN1cnJlbnQsIGVuZCwgdGFiTm9kZSwgd3JhcHBlck5vZGUpIHtcbiAgdmFyIHRvdGFsID0gZ2V0U3R5bGUod3JhcHBlck5vZGUsICdwYWRkaW5nLScgKyBzdGFydCk7XG4gIGlmICghdGFiTm9kZSB8fCAhdGFiTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgcmV0dXJuIHRvdGFsO1xuICB9XG5cbiAgdmFyIGNoaWxkTm9kZXMgPSB0YWJOb2RlLnBhcmVudE5vZGUuY2hpbGROb2RlcztcblxuICBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGNoaWxkTm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIHN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cbiAgICBpZiAobm9kZSAhPT0gdGFiTm9kZSkge1xuICAgICAgdG90YWwgKz0gdG9OdW0oc3R5bGUsICdtYXJnaW4tJyArIHN0YXJ0KTtcbiAgICAgIHRvdGFsICs9IG5vZGVbY3VycmVudF07XG4gICAgICB0b3RhbCArPSB0b051bShzdHlsZSwgJ21hcmdpbi0nICsgZW5kKTtcblxuICAgICAgaWYgKHN0eWxlLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94Jykge1xuICAgICAgICB0b3RhbCArPSB0b051bShzdHlsZSwgJ2JvcmRlci0nICsgc3RhcnQgKyAnLXdpZHRoJykgKyB0b051bShzdHlsZSwgJ2JvcmRlci0nICsgZW5kICsgJy13aWR0aCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFdlIG5lZWQgY291bnQgY3VycmVudCBub2RlIG1hcmdpblxuICAgIC8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC90YWJzL3B1bGwvMTM5I2lzc3VlY29tbWVudC00MzEwMDUyNjJcbiAgICB0b3RhbCArPSB0b051bShzdHlsZSwgJ21hcmdpbi0nICsgc3RhcnQpO1xuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiB0b3RhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExlZnQodGFiTm9kZSwgd3JhcHBlck5vZGUpIHtcbiAgcmV0dXJuIGdldFR5cGVWYWx1ZSgnbGVmdCcsICdvZmZzZXRXaWR0aCcsICdyaWdodCcsIHRhYk5vZGUsIHdyYXBwZXJOb2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvcCh0YWJOb2RlLCB3cmFwcGVyTm9kZSkge1xuICByZXR1cm4gZ2V0VHlwZVZhbHVlKCd0b3AnLCAnb2Zmc2V0SGVpZ2h0JywgJ2JvdHRvbScsIHRhYk5vZGUsIHdyYXBwZXJOb2RlKTtcbn0iLCJpbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuLyogZXNsaW50LWRpc2FibGUganN4LWExMXkvbm8tbm9uaW50ZXJhY3RpdmUtdGFiaW5kZXggKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IEtleUNvZGUgZnJvbSAncmMtdXRpbC9lcy9LZXlDb2RlJztcbmltcG9ydCBjcmVhdGVSZWFjdENvbnRleHQgZnJvbSAnY3JlYXRlLXJlYWN0LWNvbnRleHQnO1xuXG52YXIgU2VudGluZWxDb250ZXh0ID0gY3JlYXRlUmVhY3RDb250ZXh0KHt9KTtcbmV4cG9ydCB2YXIgU2VudGluZWxQcm92aWRlciA9IFNlbnRpbmVsQ29udGV4dC5Qcm92aWRlcjtcbmV4cG9ydCB2YXIgU2VudGluZWxDb25zdW1lciA9IFNlbnRpbmVsQ29udGV4dC5Db25zdW1lcjtcblxudmFyIHNlbnRpbmVsU3R5bGUgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAsIG92ZXJmbG93OiAnaGlkZGVuJywgcG9zaXRpb246ICdhYnNvbHV0ZScgfTtcblxudmFyIFNlbnRpbmVsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFNlbnRpbmVsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTZW50aW5lbCgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2VudGluZWwpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IFNlbnRpbmVsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU2VudGluZWwpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5vbktleURvd24gPSBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBfcmVmMi50YXJnZXQsXG4gICAgICAgICAgd2hpY2ggPSBfcmVmMi53aGljaCxcbiAgICAgICAgICBzaGlmdEtleSA9IF9yZWYyLnNoaWZ0S2V5O1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgbmV4dEVsZW1lbnQgPSBfdGhpcyRwcm9wcy5uZXh0RWxlbWVudCxcbiAgICAgICAgICBwcmV2RWxlbWVudCA9IF90aGlzJHByb3BzLnByZXZFbGVtZW50O1xuXG4gICAgICBpZiAod2hpY2ggIT09IEtleUNvZGUuVEFCIHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRhcmdldCkgcmV0dXJuO1xuXG4gICAgICAvLyBUYWIgbmV4dFxuICAgICAgaWYgKCFzaGlmdEtleSAmJiBuZXh0RWxlbWVudCkge1xuICAgICAgICBuZXh0RWxlbWVudC5mb2N1cygpO1xuICAgICAgfVxuXG4gICAgICAvLyBUYWIgcHJldlxuICAgICAgaWYgKHNoaWZ0S2V5ICYmIHByZXZFbGVtZW50KSB7XG4gICAgICAgIHByZXZFbGVtZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU2VudGluZWwsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIHNldFJlZiA9IHRoaXMucHJvcHMuc2V0UmVmO1xuXG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgICByZWY6IHNldFJlZixcbiAgICAgICAgc3R5bGU6IHNlbnRpbmVsU3R5bGUsXG4gICAgICAgIG9uS2V5RG93bjogdGhpcy5vbktleURvd24sXG4gICAgICAgIHJvbGU6ICdwcmVzZW50YXRpb24nXG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2VudGluZWw7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblNlbnRpbmVsLnByb3BUeXBlcyA9IHtcbiAgc2V0UmVmOiBQcm9wVHlwZXMuZnVuYyxcbiAgcHJldkVsZW1lbnQ6IFByb3BUeXBlcy5vYmplY3QsXG4gIG5leHRFbGVtZW50OiBQcm9wVHlwZXMub2JqZWN0XG59O1xuZXhwb3J0IGRlZmF1bHQgU2VudGluZWw7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc25hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IHsgZ2V0RGF0YUF0dHIgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBTZW50aW5lbCwgeyBTZW50aW5lbENvbnN1bWVyIH0gZnJvbSAnLi9TZW50aW5lbCc7XG5cbnZhciBUYWJQYW5lID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRhYlBhbmUsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYlBhbmUoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYlBhbmUpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUYWJQYW5lLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFiUGFuZSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRhYlBhbmUsIFt7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9jbGFzc25hbWVzO1xuXG4gICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICBpZCA9IF9wcm9wcy5pZCxcbiAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgIGRlc3Ryb3lJbmFjdGl2ZVRhYlBhbmUgPSBfcHJvcHMuZGVzdHJveUluYWN0aXZlVGFiUGFuZSxcbiAgICAgICAgICBhY3RpdmUgPSBfcHJvcHMuYWN0aXZlLFxuICAgICAgICAgIGZvcmNlUmVuZGVyID0gX3Byb3BzLmZvcmNlUmVuZGVyLFxuICAgICAgICAgIHJvb3RQcmVmaXhDbHMgPSBfcHJvcHMucm9vdFByZWZpeENscyxcbiAgICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBwbGFjZWhvbGRlciA9IF9wcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ2lkJywgJ2NsYXNzTmFtZScsICdkZXN0cm95SW5hY3RpdmVUYWJQYW5lJywgJ2FjdGl2ZScsICdmb3JjZVJlbmRlcicsICdyb290UHJlZml4Q2xzJywgJ3N0eWxlJywgJ2NoaWxkcmVuJywgJ3BsYWNlaG9sZGVyJ10pO1xuXG4gICAgICB0aGlzLl9pc0FjdGl2ZWQgPSB0aGlzLl9pc0FjdGl2ZWQgfHwgYWN0aXZlO1xuICAgICAgdmFyIHByZWZpeENscyA9IHJvb3RQcmVmaXhDbHMgKyAnLXRhYnBhbmUnO1xuICAgICAgdmFyIGNscyA9IGNsYXNzbmFtZXMoKF9jbGFzc25hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzLCAxKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMgKyAnLWluYWN0aXZlJywgIWFjdGl2ZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1hY3RpdmUnLCBhY3RpdmUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIGNsYXNzTmFtZSwgY2xhc3NOYW1lKSwgX2NsYXNzbmFtZXMpKTtcbiAgICAgIHZhciBpc1JlbmRlciA9IGRlc3Ryb3lJbmFjdGl2ZVRhYlBhbmUgPyBhY3RpdmUgOiB0aGlzLl9pc0FjdGl2ZWQ7XG4gICAgICB2YXIgc2hvdWxkUmVuZGVyID0gaXNSZW5kZXIgfHwgZm9yY2VSZW5kZXI7XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBTZW50aW5lbENvbnN1bWVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgIHZhciBzZW50aW5lbFN0YXJ0ID0gX3JlZi5zZW50aW5lbFN0YXJ0LFxuICAgICAgICAgICAgICBzZW50aW5lbEVuZCA9IF9yZWYuc2VudGluZWxFbmQsXG4gICAgICAgICAgICAgIHNldFBhbmVsU2VudGluZWxTdGFydCA9IF9yZWYuc2V0UGFuZWxTZW50aW5lbFN0YXJ0LFxuICAgICAgICAgICAgICBzZXRQYW5lbFNlbnRpbmVsRW5kID0gX3JlZi5zZXRQYW5lbFNlbnRpbmVsRW5kO1xuXG4gICAgICAgICAgLy8gQ3JlYXRlIHNlbnRpbmVsXG4gICAgICAgICAgdmFyIHBhbmVsU2VudGluZWxTdGFydCA9IHZvaWQgMDtcbiAgICAgICAgICB2YXIgcGFuZWxTZW50aW5lbEVuZCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoYWN0aXZlICYmIHNob3VsZFJlbmRlcikge1xuICAgICAgICAgICAgcGFuZWxTZW50aW5lbFN0YXJ0ID0gUmVhY3QuY3JlYXRlRWxlbWVudChTZW50aW5lbCwge1xuICAgICAgICAgICAgICBzZXRSZWY6IHNldFBhbmVsU2VudGluZWxTdGFydCxcbiAgICAgICAgICAgICAgcHJldkVsZW1lbnQ6IHNlbnRpbmVsU3RhcnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFuZWxTZW50aW5lbEVuZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VudGluZWwsIHtcbiAgICAgICAgICAgICAgc2V0UmVmOiBzZXRQYW5lbFNlbnRpbmVsRW5kLFxuICAgICAgICAgICAgICBuZXh0RWxlbWVudDogc2VudGluZWxFbmRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICAgICAgcm9sZTogJ3RhYnBhbmVsJyxcbiAgICAgICAgICAgICAgJ2FyaWEtaGlkZGVuJzogYWN0aXZlID8gJ2ZhbHNlJyA6ICd0cnVlJyxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHMsXG4gICAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICAgICAgfSwgZ2V0RGF0YUF0dHIocmVzdFByb3BzKSksXG4gICAgICAgICAgICBwYW5lbFNlbnRpbmVsU3RhcnQsXG4gICAgICAgICAgICBzaG91bGRSZW5kZXIgPyBjaGlsZHJlbiA6IHBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgcGFuZWxTZW50aW5lbEVuZFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRhYlBhbmU7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFRhYlBhbmU7XG5cblxuVGFiUGFuZS5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgYWN0aXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgc3R5bGU6IFByb3BUeXBlcy5hbnksXG4gIGRlc3Ryb3lJbmFjdGl2ZVRhYlBhbmU6IFByb3BUeXBlcy5ib29sLFxuICBmb3JjZVJlbmRlcjogUHJvcFR5cGVzLmJvb2wsXG4gIHBsYWNlaG9sZGVyOiBQcm9wVHlwZXMubm9kZSxcbiAgcm9vdFByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICBpZDogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuVGFiUGFuZS5kZWZhdWx0UHJvcHMgPSB7XG4gIHBsYWNlaG9sZGVyOiBudWxsXG59OyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCByYWYgZnJvbSAncmFmJztcbmltcG9ydCBLZXlDb2RlIGZyb20gJy4vS2V5Q29kZSc7XG5pbXBvcnQgVGFiUGFuZSBmcm9tICcuL1RhYlBhbmUnO1xuaW1wb3J0IHsgZ2V0RGF0YUF0dHIgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBTZW50aW5lbCwgeyBTZW50aW5lbFByb3ZpZGVyIH0gZnJvbSAnLi9TZW50aW5lbCc7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5mdW5jdGlvbiBnZXREZWZhdWx0QWN0aXZlS2V5KHByb3BzKSB7XG4gIHZhciBhY3RpdmVLZXkgPSB2b2lkIDA7XG4gIFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCAmJiAhYWN0aXZlS2V5ICYmICFjaGlsZC5wcm9wcy5kaXNhYmxlZCkge1xuICAgICAgYWN0aXZlS2V5ID0gY2hpbGQua2V5O1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhY3RpdmVLZXk7XG59XG5cbmZ1bmN0aW9uIGFjdGl2ZUtleUlzVmFsaWQocHJvcHMsIGtleSkge1xuICB2YXIga2V5cyA9IFJlYWN0LkNoaWxkcmVuLm1hcChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkICYmIGNoaWxkLmtleTtcbiAgfSk7XG4gIHJldHVybiBrZXlzLmluZGV4T2Yoa2V5KSA+PSAwO1xufVxuXG52YXIgVGFicyA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhUYWJzLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBUYWJzKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYnMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRhYnMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUYWJzKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKF90aGlzKTtcblxuICAgIHZhciBhY3RpdmVLZXkgPSB2b2lkIDA7XG4gICAgaWYgKCdhY3RpdmVLZXknIGluIHByb3BzKSB7XG4gICAgICBhY3RpdmVLZXkgPSBwcm9wcy5hY3RpdmVLZXk7XG4gICAgfSBlbHNlIGlmICgnZGVmYXVsdEFjdGl2ZUtleScgaW4gcHJvcHMpIHtcbiAgICAgIGFjdGl2ZUtleSA9IHByb3BzLmRlZmF1bHRBY3RpdmVLZXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUtleSA9IGdldERlZmF1bHRBY3RpdmVLZXkocHJvcHMpO1xuICAgIH1cblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgYWN0aXZlS2V5OiBhY3RpdmVLZXlcbiAgICB9O1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhUYWJzLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKCdhY3RpdmVLZXknIGluIG5leHRQcm9wcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBhY3RpdmVLZXk6IG5leHRQcm9wcy5hY3RpdmVLZXlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKCFhY3RpdmVLZXlJc1ZhbGlkKG5leHRQcm9wcywgdGhpcy5zdGF0ZS5hY3RpdmVLZXkpKSB7XG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzcwOTNcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aXZlS2V5OiBnZXREZWZhdWx0QWN0aXZlS2V5KG5leHRQcm9wcylcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIHRoaXMuZGVzdHJveSA9IHRydWU7XG4gICAgICByYWYuY2FuY2VsKHRoaXMuc2VudGluZWxJZCk7XG4gICAgfVxuXG4gICAgLy8gU2VudGluZWwgZm9yIHRhYiBpbmRleFxuXG4gIH0sIHtcbiAgICBrZXk6ICd1cGRhdGVTZW50aW5lbENvbnRleHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVTZW50aW5lbENvbnRleHQoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuZGVzdHJveSkgcmV0dXJuO1xuXG4gICAgICByYWYuY2FuY2VsKHRoaXMuc2VudGluZWxJZCk7XG4gICAgICB0aGlzLnNlbnRpbmVsSWQgPSByYWYoZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczIuZm9yY2VVcGRhdGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHZhciBfY2xhc3NuYW1lcztcblxuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblxuICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICBuYXZXcmFwcGVyID0gcHJvcHMubmF2V3JhcHBlcixcbiAgICAgICAgICB0YWJCYXJQb3NpdGlvbiA9IHByb3BzLnRhYkJhclBvc2l0aW9uLFxuICAgICAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICByZW5kZXJUYWJDb250ZW50ID0gcHJvcHMucmVuZGVyVGFiQ29udGVudCxcbiAgICAgICAgICByZW5kZXJUYWJCYXIgPSBwcm9wcy5yZW5kZXJUYWJCYXIsXG4gICAgICAgICAgZGVzdHJveUluYWN0aXZlVGFiUGFuZSA9IHByb3BzLmRlc3Ryb3lJbmFjdGl2ZVRhYlBhbmUsXG4gICAgICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBbJ3ByZWZpeENscycsICduYXZXcmFwcGVyJywgJ3RhYkJhclBvc2l0aW9uJywgJ2NsYXNzTmFtZScsICdyZW5kZXJUYWJDb250ZW50JywgJ3JlbmRlclRhYkJhcicsICdkZXN0cm95SW5hY3RpdmVUYWJQYW5lJ10pO1xuXG4gICAgICB2YXIgY2xzID0gY2xhc3NuYW1lcygoX2NsYXNzbmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBwcmVmaXhDbHMsIDEpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzbmFtZXMsIHByZWZpeENscyArICctJyArIHRhYkJhclBvc2l0aW9uLCAxKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc25hbWVzLCBjbGFzc05hbWUsICEhY2xhc3NOYW1lKSwgX2NsYXNzbmFtZXMpKTtcblxuICAgICAgdGhpcy50YWJCYXIgPSByZW5kZXJUYWJCYXIoKTtcblxuICAgICAgdmFyIHRhYkJhciA9IFJlYWN0LmNsb25lRWxlbWVudCh0aGlzLnRhYkJhciwge1xuICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgbmF2V3JhcHBlcjogbmF2V3JhcHBlcixcbiAgICAgICAga2V5OiAndGFiQmFyJyxcbiAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uTmF2S2V5RG93bixcbiAgICAgICAgdGFiQmFyUG9zaXRpb246IHRhYkJhclBvc2l0aW9uLFxuICAgICAgICBvblRhYkNsaWNrOiB0aGlzLm9uVGFiQ2xpY2ssXG4gICAgICAgIHBhbmVsczogcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIGFjdGl2ZUtleTogdGhpcy5zdGF0ZS5hY3RpdmVLZXlcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgdGFiQ29udGVudCA9IFJlYWN0LmNsb25lRWxlbWVudChyZW5kZXJUYWJDb250ZW50KCksIHtcbiAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgIHRhYkJhclBvc2l0aW9uOiB0YWJCYXJQb3NpdGlvbixcbiAgICAgICAgYWN0aXZlS2V5OiB0aGlzLnN0YXRlLmFjdGl2ZUtleSxcbiAgICAgICAgZGVzdHJveUluYWN0aXZlVGFiUGFuZTogZGVzdHJveUluYWN0aXZlVGFiUGFuZSxcbiAgICAgICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuLFxuICAgICAgICBvbkNoYW5nZTogdGhpcy5zZXRBY3RpdmVLZXksXG4gICAgICAgIGtleTogJ3RhYkNvbnRlbnQnXG4gICAgICB9KTtcblxuICAgICAgdmFyIHNlbnRpbmVsU3RhcnQgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFNlbnRpbmVsLCB7XG4gICAgICAgIGtleTogJ3NlbnRpbmVsU3RhcnQnLFxuICAgICAgICBzZXRSZWY6IHRoaXMuc2V0U2VudGluZWxTdGFydCxcbiAgICAgICAgbmV4dEVsZW1lbnQ6IHRoaXMucGFuZWxTZW50aW5lbFN0YXJ0XG4gICAgICB9KTtcbiAgICAgIHZhciBzZW50aW5lbEVuZCA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2VudGluZWwsIHtcbiAgICAgICAga2V5OiAnc2VudGluZWxFbmQnLFxuICAgICAgICBzZXRSZWY6IHRoaXMuc2V0U2VudGluZWxFbmQsXG4gICAgICAgIHByZXZFbGVtZW50OiB0aGlzLnBhbmVsU2VudGluZWxFbmRcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgY29udGVudHMgPSBbXTtcbiAgICAgIGlmICh0YWJCYXJQb3NpdGlvbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgY29udGVudHMucHVzaChzZW50aW5lbFN0YXJ0LCB0YWJDb250ZW50LCBzZW50aW5lbEVuZCwgdGFiQmFyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnRzLnB1c2godGFiQmFyLCBzZW50aW5lbFN0YXJ0LCB0YWJDb250ZW50LCBzZW50aW5lbEVuZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBTZW50aW5lbFByb3ZpZGVyLFxuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHNlbnRpbmVsU3RhcnQ6IHRoaXMuc2VudGluZWxTdGFydCxcbiAgICAgICAgICAgIHNlbnRpbmVsRW5kOiB0aGlzLnNlbnRpbmVsRW5kLFxuICAgICAgICAgICAgc2V0UGFuZWxTZW50aW5lbFN0YXJ0OiB0aGlzLnNldFBhbmVsU2VudGluZWxTdGFydCxcbiAgICAgICAgICAgIHNldFBhbmVsU2VudGluZWxFbmQ6IHRoaXMuc2V0UGFuZWxTZW50aW5lbEVuZFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGNscyxcbiAgICAgICAgICAgIHN0eWxlOiBwcm9wcy5zdHlsZVxuICAgICAgICAgIH0sIGdldERhdGFBdHRyKHJlc3RQcm9wcyksIHtcbiAgICAgICAgICAgIG9uU2Nyb2xsOiB0aGlzLm9uU2Nyb2xsXG4gICAgICAgICAgfSksXG4gICAgICAgICAgY29udGVudHNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVGFicztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXMzID0gdGhpcztcblxuICB0aGlzLm9uVGFiQ2xpY2sgPSBmdW5jdGlvbiAoYWN0aXZlS2V5LCBlKSB7XG4gICAgaWYgKF90aGlzMy50YWJCYXIucHJvcHMub25UYWJDbGljaykge1xuICAgICAgX3RoaXMzLnRhYkJhci5wcm9wcy5vblRhYkNsaWNrKGFjdGl2ZUtleSwgZSk7XG4gICAgfVxuICAgIF90aGlzMy5zZXRBY3RpdmVLZXkoYWN0aXZlS2V5KTtcbiAgfTtcblxuICB0aGlzLm9uTmF2S2V5RG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGV2ZW50S2V5Q29kZSA9IGUua2V5Q29kZTtcbiAgICBpZiAoZXZlbnRLZXlDb2RlID09PSBLZXlDb2RlLlJJR0hUIHx8IGV2ZW50S2V5Q29kZSA9PT0gS2V5Q29kZS5ET1dOKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgbmV4dEtleSA9IF90aGlzMy5nZXROZXh0QWN0aXZlS2V5KHRydWUpO1xuICAgICAgX3RoaXMzLm9uVGFiQ2xpY2sobmV4dEtleSk7XG4gICAgfSBlbHNlIGlmIChldmVudEtleUNvZGUgPT09IEtleUNvZGUuTEVGVCB8fCBldmVudEtleUNvZGUgPT09IEtleUNvZGUuVVApIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBwcmV2aW91c0tleSA9IF90aGlzMy5nZXROZXh0QWN0aXZlS2V5KGZhbHNlKTtcbiAgICAgIF90aGlzMy5vblRhYkNsaWNrKHByZXZpb3VzS2V5KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5vblNjcm9sbCA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIHRhcmdldCA9IF9yZWYudGFyZ2V0LFxuICAgICAgICBjdXJyZW50VGFyZ2V0ID0gX3JlZi5jdXJyZW50VGFyZ2V0O1xuXG4gICAgaWYgKHRhcmdldCA9PT0gY3VycmVudFRhcmdldCAmJiB0YXJnZXQuc2Nyb2xsTGVmdCA+IDApIHtcbiAgICAgIHRhcmdldC5zY3JvbGxMZWZ0ID0gMDtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5zZXRTZW50aW5lbFN0YXJ0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBfdGhpczMuc2VudGluZWxTdGFydCA9IG5vZGU7XG4gIH07XG5cbiAgdGhpcy5zZXRTZW50aW5lbEVuZCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgX3RoaXMzLnNlbnRpbmVsRW5kID0gbm9kZTtcbiAgfTtcblxuICB0aGlzLnNldFBhbmVsU2VudGluZWxTdGFydCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKG5vZGUgIT09IF90aGlzMy5wYW5lbFNlbnRpbmVsU3RhcnQpIHtcbiAgICAgIF90aGlzMy51cGRhdGVTZW50aW5lbENvbnRleHQoKTtcbiAgICB9XG4gICAgX3RoaXMzLnBhbmVsU2VudGluZWxTdGFydCA9IG5vZGU7XG4gIH07XG5cbiAgdGhpcy5zZXRQYW5lbFNlbnRpbmVsRW5kID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAobm9kZSAhPT0gX3RoaXMzLnBhbmVsU2VudGluZWxFbmQpIHtcbiAgICAgIF90aGlzMy51cGRhdGVTZW50aW5lbENvbnRleHQoKTtcbiAgICB9XG4gICAgX3RoaXMzLnBhbmVsU2VudGluZWxFbmQgPSBub2RlO1xuICB9O1xuXG4gIHRoaXMuc2V0QWN0aXZlS2V5ID0gZnVuY3Rpb24gKGFjdGl2ZUtleSkge1xuICAgIGlmIChfdGhpczMuc3RhdGUuYWN0aXZlS2V5ICE9PSBhY3RpdmVLZXkpIHtcbiAgICAgIGlmICghKCdhY3RpdmVLZXknIGluIF90aGlzMy5wcm9wcykpIHtcbiAgICAgICAgX3RoaXMzLnNldFN0YXRlKHtcbiAgICAgICAgICBhY3RpdmVLZXk6IGFjdGl2ZUtleVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIF90aGlzMy5wcm9wcy5vbkNoYW5nZShhY3RpdmVLZXkpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmdldE5leHRBY3RpdmVLZXkgPSBmdW5jdGlvbiAobmV4dCkge1xuICAgIHZhciBhY3RpdmVLZXkgPSBfdGhpczMuc3RhdGUuYWN0aXZlS2V5O1xuICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgIFJlYWN0LkNoaWxkcmVuLmZvckVhY2goX3RoaXMzLnByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMgJiYgIWMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKGMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLnVuc2hpZnQoYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB2YXIgbGVuZ3RoID0gY2hpbGRyZW4ubGVuZ3RoO1xuICAgIHZhciByZXQgPSBsZW5ndGggJiYgY2hpbGRyZW5bMF0ua2V5O1xuICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkLCBpKSB7XG4gICAgICBpZiAoY2hpbGQua2V5ID09PSBhY3RpdmVLZXkpIHtcbiAgICAgICAgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgICByZXQgPSBjaGlsZHJlblswXS5rZXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0ID0gY2hpbGRyZW5baSArIDFdLmtleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXQ7XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUYWJzO1xuXG5cblRhYnMucHJvcFR5cGVzID0ge1xuICBkZXN0cm95SW5hY3RpdmVUYWJQYW5lOiBQcm9wVHlwZXMuYm9vbCxcbiAgcmVuZGVyVGFiQmFyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICByZW5kZXJUYWJDb250ZW50OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBuYXZXcmFwcGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB0YWJCYXJQb3NpdGlvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGFjdGl2ZUtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGVmYXVsdEFjdGl2ZUtleTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxuVGFicy5kZWZhdWx0UHJvcHMgPSB7XG4gIHByZWZpeENsczogJ3JjLXRhYnMnLFxuICBkZXN0cm95SW5hY3RpdmVUYWJQYW5lOiBmYWxzZSxcbiAgb25DaGFuZ2U6IG5vb3AsXG4gIG5hdldyYXBwZXI6IGZ1bmN0aW9uIG5hdldyYXBwZXIoYXJnKSB7XG4gICAgcmV0dXJuIGFyZztcbiAgfSxcbiAgdGFiQmFyUG9zaXRpb246ICd0b3AnLFxuICBjaGlsZHJlbjogbnVsbCxcbiAgc3R5bGU6IHt9XG59O1xuXG5UYWJzLlRhYlBhbmUgPSBUYWJQYW5lOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCB7IGdldFRyYW5zZm9ybUJ5SW5kZXgsIGdldEFjdGl2ZUluZGV4LCBnZXRUcmFuc2Zvcm1Qcm9wVmFsdWUsIGdldE1hcmdpblN0eWxlIH0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBUYWJDb250ZW50ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFRhYkNvbnRlbnQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRhYkNvbnRlbnQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhYkNvbnRlbnQpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUYWJDb250ZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGFiQ29udGVudCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFRhYkNvbnRlbnQsIFt7XG4gICAga2V5OiAnZ2V0VGFiUGFuZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUYWJQYW5lcygpIHtcbiAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICB2YXIgYWN0aXZlS2V5ID0gcHJvcHMuYWN0aXZlS2V5O1xuICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBbXTtcblxuICAgICAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgdmFyIGFjdGl2ZSA9IGFjdGl2ZUtleSA9PT0ga2V5O1xuICAgICAgICBuZXdDaGlsZHJlbi5wdXNoKFJlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICAgIGFjdGl2ZTogYWN0aXZlLFxuICAgICAgICAgIGRlc3Ryb3lJbmFjdGl2ZVRhYlBhbmU6IHByb3BzLmRlc3Ryb3lJbmFjdGl2ZVRhYlBhbmUsXG4gICAgICAgICAgcm9vdFByZWZpeENsczogcHJvcHMucHJlZml4Q2xzXG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbmV3Q2hpbGRyZW47XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgdmFyIF9jbGFzc25hbWVzO1xuXG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgdmFyIHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIGFjdGl2ZUtleSA9IHByb3BzLmFjdGl2ZUtleSxcbiAgICAgICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgdGFiQmFyUG9zaXRpb24gPSBwcm9wcy50YWJCYXJQb3NpdGlvbixcbiAgICAgICAgICBhbmltYXRlZCA9IHByb3BzLmFuaW1hdGVkLFxuICAgICAgICAgIGFuaW1hdGVkV2l0aE1hcmdpbiA9IHByb3BzLmFuaW1hdGVkV2l0aE1hcmdpbjtcbiAgICAgIHZhciBzdHlsZSA9IHByb3BzLnN0eWxlO1xuXG4gICAgICB2YXIgY2xhc3NlcyA9IGNsYXNzbmFtZXMoKF9jbGFzc25hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgcHJlZml4Q2xzICsgJy1jb250ZW50JywgdHJ1ZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NuYW1lcywgYW5pbWF0ZWQgPyBwcmVmaXhDbHMgKyAnLWNvbnRlbnQtYW5pbWF0ZWQnIDogcHJlZml4Q2xzICsgJy1jb250ZW50LW5vLWFuaW1hdGVkJywgdHJ1ZSksIF9jbGFzc25hbWVzKSwgY2xhc3NOYW1lKTtcbiAgICAgIGlmIChhbmltYXRlZCkge1xuICAgICAgICB2YXIgYWN0aXZlSW5kZXggPSBnZXRBY3RpdmVJbmRleChjaGlsZHJlbiwgYWN0aXZlS2V5KTtcbiAgICAgICAgaWYgKGFjdGl2ZUluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIHZhciBhbmltYXRlZFN0eWxlID0gYW5pbWF0ZWRXaXRoTWFyZ2luID8gZ2V0TWFyZ2luU3R5bGUoYWN0aXZlSW5kZXgsIHRhYkJhclBvc2l0aW9uKSA6IGdldFRyYW5zZm9ybVByb3BWYWx1ZShnZXRUcmFuc2Zvcm1CeUluZGV4KGFjdGl2ZUluZGV4LCB0YWJCYXJQb3NpdGlvbikpO1xuICAgICAgICAgIHN0eWxlID0gX2V4dGVuZHMoe30sIHN0eWxlLCBhbmltYXRlZFN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSwge1xuICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NlcyxcbiAgICAgICAgICBzdHlsZTogc3R5bGVcbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5nZXRUYWJQYW5lcygpXG4gICAgICApO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBUYWJDb250ZW50O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBUYWJDb250ZW50O1xuXG5cblRhYkNvbnRlbnQucHJvcFR5cGVzID0ge1xuICBhbmltYXRlZDogUHJvcFR5cGVzLmJvb2wsXG4gIGFuaW1hdGVkV2l0aE1hcmdpbjogUHJvcFR5cGVzLmJvb2wsXG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICBhY3RpdmVLZXk6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0eWxlOiBQcm9wVHlwZXMuYW55LFxuICB0YWJCYXJQb3NpdGlvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5UYWJDb250ZW50LmRlZmF1bHRQcm9wcyA9IHtcbiAgYW5pbWF0ZWQ6IHRydWVcbn07IiwiaW1wb3J0IFRhYnMgZnJvbSAnLi9UYWJzJztcbmltcG9ydCBUYWJQYW5lIGZyb20gJy4vVGFiUGFuZSc7XG5pbXBvcnQgVGFiQ29udGVudCBmcm9tICcuL1RhYkNvbnRlbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBUYWJzO1xuZXhwb3J0IHsgVGFiUGFuZSwgVGFiQ29udGVudCB9OyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSByZXF1aXJlKCdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eTIpO1xuXG5leHBvcnRzLnRvQXJyYXkgPSB0b0FycmF5O1xuZXhwb3J0cy5nZXRBY3RpdmVJbmRleCA9IGdldEFjdGl2ZUluZGV4O1xuZXhwb3J0cy5nZXRBY3RpdmVLZXkgPSBnZXRBY3RpdmVLZXk7XG5leHBvcnRzLnNldFRyYW5zZm9ybSA9IHNldFRyYW5zZm9ybTtcbmV4cG9ydHMuaXNUcmFuc2Zvcm1TdXBwb3J0ZWQgPSBpc1RyYW5zZm9ybVN1cHBvcnRlZDtcbmV4cG9ydHMuc2V0VHJhbnNpdGlvbiA9IHNldFRyYW5zaXRpb247XG5leHBvcnRzLmdldFRyYW5zZm9ybVByb3BWYWx1ZSA9IGdldFRyYW5zZm9ybVByb3BWYWx1ZTtcbmV4cG9ydHMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG5leHBvcnRzLmdldFRyYW5zZm9ybUJ5SW5kZXggPSBnZXRUcmFuc2Zvcm1CeUluZGV4O1xuZXhwb3J0cy5nZXRNYXJnaW5TdHlsZSA9IGdldE1hcmdpblN0eWxlO1xuZXhwb3J0cy5nZXRTdHlsZSA9IGdldFN0eWxlO1xuZXhwb3J0cy5zZXRQeFN0eWxlID0gc2V0UHhTdHlsZTtcbmV4cG9ydHMuZ2V0RGF0YUF0dHIgPSBnZXREYXRhQXR0cjtcbmV4cG9ydHMuZ2V0TGVmdCA9IGdldExlZnQ7XG5leHBvcnRzLmdldFRvcCA9IGdldFRvcDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvQXJyYXkoY2hpbGRyZW4pIHtcbiAgLy8gYWxsb3cgW2MsW2EsYl1dXG4gIHZhciBjID0gW107XG4gIF9yZWFjdDJbJ2RlZmF1bHQnXS5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGMucHVzaChjaGlsZCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGM7XG59XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUluZGV4KGNoaWxkcmVuLCBhY3RpdmVLZXkpIHtcbiAgdmFyIGMgPSB0b0FycmF5KGNoaWxkcmVuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGNbaV0ua2V5ID09PSBhY3RpdmVLZXkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZUtleShjaGlsZHJlbiwgaW5kZXgpIHtcbiAgdmFyIGMgPSB0b0FycmF5KGNoaWxkcmVuKTtcbiAgcmV0dXJuIGNbaW5kZXhdLmtleTtcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNmb3JtKHN0eWxlLCB2KSB7XG4gIHN0eWxlLnRyYW5zZm9ybSA9IHY7XG4gIHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHY7XG4gIHN0eWxlLm1velRyYW5zZm9ybSA9IHY7XG59XG5cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtU3VwcG9ydGVkKHN0eWxlKSB7XG4gIHJldHVybiAndHJhbnNmb3JtJyBpbiBzdHlsZSB8fCAnd2Via2l0VHJhbnNmb3JtJyBpbiBzdHlsZSB8fCAnTW96VHJhbnNmb3JtJyBpbiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gc2V0VHJhbnNpdGlvbihzdHlsZSwgdikge1xuICBzdHlsZS50cmFuc2l0aW9uID0gdjtcbiAgc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9IHY7XG4gIHN0eWxlLk1velRyYW5zaXRpb24gPSB2O1xufVxuZnVuY3Rpb24gZ2V0VHJhbnNmb3JtUHJvcFZhbHVlKHYpIHtcbiAgcmV0dXJuIHtcbiAgICB0cmFuc2Zvcm06IHYsXG4gICAgV2Via2l0VHJhbnNmb3JtOiB2LFxuICAgIE1velRyYW5zZm9ybTogdlxuICB9O1xufVxuXG5mdW5jdGlvbiBpc1ZlcnRpY2FsKHRhYkJhclBvc2l0aW9uKSB7XG4gIHJldHVybiB0YWJCYXJQb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHRhYkJhclBvc2l0aW9uID09PSAncmlnaHQnO1xufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1CeUluZGV4KGluZGV4LCB0YWJCYXJQb3NpdGlvbikge1xuICB2YXIgdHJhbnNsYXRlID0gaXNWZXJ0aWNhbCh0YWJCYXJQb3NpdGlvbikgPyAndHJhbnNsYXRlWScgOiAndHJhbnNsYXRlWCc7XG4gIHJldHVybiB0cmFuc2xhdGUgKyAnKCcgKyAtaW5kZXggKiAxMDAgKyAnJSkgdHJhbnNsYXRlWigwKSc7XG59XG5cbmZ1bmN0aW9uIGdldE1hcmdpblN0eWxlKGluZGV4LCB0YWJCYXJQb3NpdGlvbikge1xuICB2YXIgbWFyZ2luRGlyZWN0aW9uID0gaXNWZXJ0aWNhbCh0YWJCYXJQb3NpdGlvbikgPyAnbWFyZ2luVG9wJyA6ICdtYXJnaW5MZWZ0JztcbiAgcmV0dXJuICgwLCBfZGVmaW5lUHJvcGVydHkzWydkZWZhdWx0J10pKHt9LCBtYXJnaW5EaXJlY3Rpb24sIC1pbmRleCAqIDEwMCArICclJyk7XG59XG5cbmZ1bmN0aW9uIGdldFN0eWxlKGVsLCBwcm9wZXJ0eSkge1xuICByZXR1cm4gK3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KS5yZXBsYWNlKCdweCcsICcnKTtcbn1cblxuZnVuY3Rpb24gc2V0UHhTdHlsZShlbCwgdmFsdWUsIHZlcnRpY2FsKSB7XG4gIHZhbHVlID0gdmVydGljYWwgPyAnMHB4LCAnICsgdmFsdWUgKyAncHgsIDBweCcgOiB2YWx1ZSArICdweCwgMHB4LCAwcHgnO1xuICBzZXRUcmFuc2Zvcm0oZWwuc3R5bGUsICd0cmFuc2xhdGUzZCgnICsgdmFsdWUgKyAnKScpO1xufVxuXG5mdW5jdGlvbiBnZXREYXRhQXR0cihwcm9wcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpLnJlZHVjZShmdW5jdGlvbiAocHJldiwga2V5KSB7XG4gICAgaWYgKGtleS5zdWJzdHIoMCwgNSkgPT09ICdhcmlhLScgfHwga2V5LnN1YnN0cigwLCA1KSA9PT0gJ2RhdGEtJyB8fCBrZXkgPT09ICdyb2xlJykge1xuICAgICAgcHJldltrZXldID0gcHJvcHNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHByZXY7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gdG9OdW0oc3R5bGUsIHByb3BlcnR5KSB7XG4gIHJldHVybiArc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkucmVwbGFjZSgncHgnLCAnJyk7XG59XG5cbmZ1bmN0aW9uIGdldFR5cGVWYWx1ZShzdGFydCwgY3VycmVudCwgZW5kLCB0YWJOb2RlLCB3cmFwcGVyTm9kZSkge1xuICB2YXIgdG90YWwgPSBnZXRTdHlsZSh3cmFwcGVyTm9kZSwgJ3BhZGRpbmctJyArIHN0YXJ0KTtcbiAgaWYgKCF0YWJOb2RlIHx8ICF0YWJOb2RlLnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm4gdG90YWw7XG4gIH1cblxuICB2YXIgY2hpbGROb2RlcyA9IHRhYk5vZGUucGFyZW50Tm9kZS5jaGlsZE5vZGVzO1xuXG4gIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoY2hpbGROb2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcblxuICAgIGlmIChub2RlICE9PSB0YWJOb2RlKSB7XG4gICAgICB0b3RhbCArPSB0b051bShzdHlsZSwgJ21hcmdpbi0nICsgc3RhcnQpO1xuICAgICAgdG90YWwgKz0gbm9kZVtjdXJyZW50XTtcbiAgICAgIHRvdGFsICs9IHRvTnVtKHN0eWxlLCAnbWFyZ2luLScgKyBlbmQpO1xuXG4gICAgICBpZiAoc3R5bGUuYm94U2l6aW5nID09PSAnY29udGVudC1ib3gnKSB7XG4gICAgICAgIHRvdGFsICs9IHRvTnVtKHN0eWxlLCAnYm9yZGVyLScgKyBzdGFydCArICctd2lkdGgnKSArIHRvTnVtKHN0eWxlLCAnYm9yZGVyLScgKyBlbmQgKyAnLXdpZHRoJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gV2UgbmVlZCBjb3VudCBjdXJyZW50IG5vZGUgbWFyZ2luXG4gICAgLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtY29tcG9uZW50L3RhYnMvcHVsbC8xMzkjaXNzdWVjb21tZW50LTQzMTAwNTI2MlxuICAgIHRvdGFsICs9IHRvTnVtKHN0eWxlLCAnbWFyZ2luLScgKyBzdGFydCk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHRvdGFsO1xufVxuXG5mdW5jdGlvbiBnZXRMZWZ0KHRhYk5vZGUsIHdyYXBwZXJOb2RlKSB7XG4gIHJldHVybiBnZXRUeXBlVmFsdWUoJ2xlZnQnLCAnb2Zmc2V0V2lkdGgnLCAncmlnaHQnLCB0YWJOb2RlLCB3cmFwcGVyTm9kZSk7XG59XG5cbmZ1bmN0aW9uIGdldFRvcCh0YWJOb2RlLCB3cmFwcGVyTm9kZSkge1xuICByZXR1cm4gZ2V0VHlwZVZhbHVlKCd0b3AnLCAnb2Zmc2V0SGVpZ2h0JywgJ2JvdHRvbScsIHRhYk5vZGUsIHdyYXBwZXJOb2RlKTtcbn0iXSwic291cmNlUm9vdCI6IiJ9